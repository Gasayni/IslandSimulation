(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/TgR":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("kMlh"),o=i("2Vo4"),s=i("EY2u"),u=i("JIr8"),r=i("fXoL"),c=i("gFDQ"),a=i("oilu"),d=i("3HOL"),l=function(){function t(t,e,i){this.logger=t,this.exceptionService=e,this.quizzesBackendClientService=i,this.quizSource=new o.a(void 0),this.quiz$=this.quizSource.asObservable(),this._lastQuizzesViewRequest=new n.a,this.logger.debug(this.constructor.name+" is created.")}return Object.defineProperty(t.prototype,"lastQuizzesViewRequest",{get:function(){return this._lastQuizzesViewRequest.clone()},set:function(t){this._lastQuizzesViewRequest=t.clone()},enumerable:!1,configurable:!0}),t.prototype.updateQuiz=function(t){this.quizSource.next(t)},t.prototype.loadDiscussionInfo=function(t){var e=this;return this.quizzesBackendClientService.loadDiscussionInfo(t.id).pipe(Object(u.a)(function(t){return e.exceptionService.handleRequestErrorInfo(t,"Error while loading discussion"),s.a}))},t.\u0275fac=function(e){return new(e||t)(r.fc(c.a),r.fc(a.a),r.fc(d.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t}()},"3HOL":function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("tk/3"),o=i("dOHA"),s={QUIZ_NOT_FOUND:"Quiz not found."},u=i("fXoL"),r=i("gFDQ"),c=i("CQiu"),a=i("oilu"),d=function(){function t(t,e,i){this.logger=t,this.httpClient=e,this.exceptionService=i,this.QUIZZES_URL_PATH="/quizzes",this.QUIZ_URL_PATH="/quizzes/quiz{quizKid}",this.QUIZ_DISCUSSION_URL_PATH="/discussions/quiz{quizId}",this.QUIZ_QUESTIONS_URL_PATH="/quizzes/quiz{quizKid}/questions",this.QUIZ_TARGET_ANSWER_URL_PATH="/quizzes/quiz{quizId}/questions/{questionId}/answers/answer{answerId}",this.logger.debug(this.constructor.name+" is created.")}return t.prototype.loadQuizzes=function(t){var e=o.a.apiUrl+this.QUIZZES_URL_PATH,i=new n.g;return null!=t.query&&(i=i.set("query",t.query)),null!=t.quest&&(i=i.set("quest",t.quest)),null!=t.level&&(i=i.set("level",t.level.toString())),null!=t.type&&(i=i.set("type",t.type)),null!=t.status&&(i=i.set("status",t.status)),null!=t.resultStatus&&(i=i.set("resultStatus",t.resultStatus)),null!=t.order&&(i=i.set("order",t.order)),null!=t.limit&&(i=i.set("limit",t.limit.toString())),null!=t.offset&&(i=i.set("offset",t.offset.toString())),null!=t.filter&&(i=i.set("filter",t.filter.toString())),this.httpClient.get(e,i)},t.prototype.loadQuiz=function(t){var e=o.a.apiUrl+this.QUIZ_URL_PATH.replace("{quizKid}",t);return this.httpClient.get(e)},t.prototype.loadDiscussionInfo=function(t){var e=o.a.apiUrl+this.QUIZ_DISCUSSION_URL_PATH.replace("{quizId}",t.toString());return this.httpClient.get(e)},t.prototype.handleQuizzesRequestError=function(t,e){this.exceptionService.handleRequestErrorInfo(t,e,s[t.code])},t.\u0275fac=function(e){return new(e||t)(u.fc(r.a),u.fc(c.a),u.fc(a.a))},t.\u0275prov=u.Kb({token:t,factory:t.\u0275fac}),t}()},BdVv:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL"),o=i("i5Iq"),s=function(){function t(t,e,i,n){this.elRef=t,this.zone=e,this.platformId=i,this.prismProcessingService=n}return t.prototype.ngOnChanges=function(t){t.innerHtml.previousValue!==t.innerHtml.currentValue&&(this.elRef.nativeElement.innerHTML=this.innerHtml,this.needsPrismProcessing=!0,this.initPrism())},t.prototype.ngAfterViewInit=function(){this.initPrism()},t.prototype.initPrism=function(){this.needsPrismProcessing&&(this.prismSubscription&&this.prismSubscription.unsubscribe(),this.prismSubscription=this.prismProcessingService.processPrismLayout(this.elRef.nativeElement).subscribe(),this.needsPrismProcessing=!1)},t.prototype.ngOnDestroy=function(){this.prismSubscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(n.Ob(n.l),n.Ob(n.A),n.Ob(n.C),n.Ob(o.a))},t.\u0275dir=n.Jb({type:t,selectors:[["","jrHtmlWithPrismProcessing",""]],inputs:{innerHtml:["jrHtmlWithPrismProcessing","innerHtml"]},features:[n.xb]}),t}()},"Hke/":function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("fXoL"),o=i("gFDQ"),s=i("+BlI"),u=function(){function t(t,e){this.logger=t,this.toastService=e,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.handleRequestErrorInfo=function(t,e){var i;switch(this.logger.error("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043d\u0443\u043b \u043e\u0448\u0438\u0431\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ",t),t.code){case"AUTHORIZATION_ERROR":i="\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438";break;default:i=t.code+": "+t.message}this.toastService.showError(i,e)},t.\u0275fac=function(e){return new(e||t)(n.fc(o.a),n.fc(s.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t}()},QfD2:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("dOHA"),o=i("fXoL"),s=i("gFDQ"),u=i("CQiu"),r=function(){function t(t,e){this.logger=t,this.httpClient=e,this.QUIZ_URL_PATH="/quizzes/quiz{quizKid}",this.QUIZ_START_URL_PATH="/quizzes/quiz{quizKid}/start",this.QUIZ_COMPLETE_URL_PATH="/quizzes/quiz{quizKid}/complete",this.QUIZ_QUESTIONS_URL_PATH="/quizzes/quiz{quizKid}/questions",this.QUIZ_QUESTION_URL_PATH="/quizzes/quiz{quizKid}/questions/{questionId}",this.QUIZ_QUESTION_SUBMIT_URL_PATH="/quizzes/quiz{quizKid}/questions/{questionId}/complete",this.logger.debug(this.constructor.name+" is created.")}return t.prototype.loadQuiz=function(t){var e=n.a.apiUrl+this.QUIZ_URL_PATH.replace("{quizKid}",t);return this.httpClient.get(e)},t.prototype.startQuiz=function(t){var e=n.a.apiUrl+this.QUIZ_START_URL_PATH.replace("{quizKid}",t);return this.httpClient.post(e,{})},t.prototype.finishQuiz=function(t){var e=n.a.apiUrl+this.QUIZ_COMPLETE_URL_PATH.replace("{quizKid}",t);return this.httpClient.post(e,{})},t.prototype.loadQuizQuestions=function(t){var e=n.a.apiUrl+this.QUIZ_QUESTIONS_URL_PATH.replace("{quizKid}",t);return this.httpClient.get(e)},t.prototype.loadQuizQuestion=function(t,e){var i=n.a.apiUrl+this.QUIZ_QUESTION_URL_PATH.replace("{quizKid}",t).replace("{questionId}",e.toString());return this.httpClient.get(i)},t.prototype.submitQuestion=function(t,e,i){var o=n.a.apiUrl+this.QUIZ_QUESTION_SUBMIT_URL_PATH.replace("{quizKid}",t).replace("{questionId}",e.toString());return this.httpClient.post(o,i)},t.\u0275fac=function(e){return new(e||t)(o.fc(s.a),o.fc(u.a))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac}),t}()},SSZg:function(t,e,i){"use strict";i.d(e,"a",function(){return ci});var n=i("ofXK"),o=i("fXoL"),s=i("JIr8"),u=i("vkgz"),r=i("lJxs"),c=i("eIep"),a=i("EY2u"),d=i("bG0t"),l=i("gFDQ"),b=i("QfD2"),f=i("Hke/"),g=i("mrSG"),p=i("XNiG"),z=i("1G5W"),h=i("YiB+"),q=i("6I6m"),_=i("SbnW"),m=i("Dy+N"),v=i("dVL3"),O=i("aP+G"),C=i("ED4h"),w=i("CCXZ"),x=i("I10B"),T=i("YF5F"),S=i("TfQF"),P=i("tyNb"),I=i("Cpur"),y=function(){function t(t,e){this.router=t,this.authService=e,this.isAuthModalLinkEnabled=!0}return t.prototype.onClick=function(){this.isAuthModalLinkEnabled&&this.authService.openAuthModal(this.router.url)},t.\u0275fac=function(e){return new(e||t)(o.Ob(P.e),o.Ob(I.a))},t.\u0275dir=o.Jb({type:t,selectors:[["","jrAuthModalLink",""]],hostBindings:function(t,e){1&t&&o.ic("click",function(t){return e.onClick(t)})},inputs:{isAuthModalLinkEnabled:["jrAuthModalLink","isAuthModalLinkEnabled"]}}),t}();function Q(t,e){if(1&t&&(o.Ub(0,"div",30),o.Pb(1,"jr-dark-matter",31),o.Tb()),2&t){var i=o.mc();o.zb(1),o.uc("cost",i.quiz.reward)}}function M(t,e){if(1&t&&(o.Sb(0),o.Ub(1,"div",32),o.Yb(2,33),o.Tb(),o.Rb()),2&t){var i=o.mc();o.zb(2),o.cc(i.quiz.title)(i.quiz.level)(i.quiz.lesson),o.Zb(2)}}function k(t,e){if(1&t&&o.Pb(0,"jr-user-quiz-result-status",34),2&t){var i=o.mc();o.uc("status",i.quiz.userQuizInfo.resultStatus)}}function R(t,e){if(1&t&&o.Pb(0,"jr-user-quiz-status",34),2&t){var i=o.mc();o.uc("status",i.quiz.userQuizInfo.status)}}function U(t,e){if(1&t){var i=o.Vb();o.Sb(0),o.Ub(1,"jr-button",38),o.ic("onClick",function(){return o.Hc(i),o.mc(2).openQuiz()}),o.Yb(2,39),o.Tb(),o.Rb()}2&t&&(o.zb(1),o.uc("variant","success")("size","md-wide")("bold",!0))}function A(t,e){1&t&&(o.Ub(0,"div",43),o.Yb(1,44),o.Tb())}function E(t,e){if(1&t&&(o.Ub(0,"jr-button",40),o.Yb(1,41),o.Tb(),o.Oc(2,A,2,0,"div",42)),2&t){var i=o.mc(2);o.uc("variant","danger")("size","md-wide")("bold",!0)("jrAuthModalLink",!i.isMeAuthorized),o.zb(2),o.uc("ngIf",0==i.attemptsLeft)}}function L(t,e){if(1&t&&(o.Ub(0,"div",35),o.Oc(1,U,3,3,"ng-container",36),o.Oc(2,E,3,5,"ng-template",null,37,o.Pc),o.Tb()),2&t){var i=o.Ec(3),n=o.mc();o.zb(1),o.uc("ngIf",n.isQuizAvailableForMe)("ngIfElse",i)}}function j(t,e){1&t&&o.Pb(0,"img",45)}function N(t,e){1&t&&o.Pb(0,"img",46)}var B=function(){return{name:"retry",sprite:"task"}};function D(t,e){if(1&t&&(o.Ub(0,"li",50),o.Ub(1,"span",51),o.Pb(2,"jr-icon",15),o.Tb(),o.Ub(3,"span",52),o.ec(4,55),o.Pb(5,"b"),o.bc(),o.Tb(),o.Tb()),2&t){var i=o.mc(2);o.zb(2),o.uc("icon",o.xc(2,B)),o.zb(3),o.cc(i.quiz.userQuizInfo.timeLeftToNexAttempt),o.Zb(4)}}var H=function(){return{name:"attempts",sprite:"task"}},$=function(){return{name:"attempts-dark",sprite:"task"}};function F(t,e){if(1&t&&(o.Ub(0,"li",50),o.Ub(1,"span",56),o.Pb(2,"jr-icon",15),o.Tb(),o.Ub(3,"span",57),o.Pb(4,"jr-icon",15),o.Tb(),o.Ub(5,"span",52),o.Ub(6,"span",58),o.Yb(7,59),o.Tb(),o.Ub(8,"span",60),o.Yb(9,61),o.Tb(),o.Ub(10,"b"),o.Qc(11),o.Tb(),o.Tb(),o.Tb()),2&t){var i=o.mc(2);o.zb(2),o.uc("icon",o.xc(3,H)),o.zb(2),o.uc("icon",o.xc(4,$)),o.zb(7),o.Rc(i.attemptsLeft)}}var W=function(){return{name:"result",sprite:"task"}};function V(t,e){if(1&t&&(o.Ub(0,"div",47),o.Ub(1,"div",48),o.Ub(2,"ul",49),o.Ub(3,"li",50),o.Ub(4,"span",51),o.Pb(5,"jr-icon",15),o.Tb(),o.Ub(6,"span",52),o.ec(7,53),o.Pb(8,"b"),o.bc(),o.Tb(),o.Tb(),o.Oc(9,D,6,3,"li",54),o.Oc(10,F,12,5,"li",54),o.Tb(),o.Tb(),o.Tb()),2&t){var i=o.mc();o.zb(5),o.uc("icon",o.xc(5,W)),o.zb(3),o.cc(i.quiz.userQuizInfo.questionsPassedCount)(i.quiz.userQuizInfo.questionsTotalCount),o.Zb(7),o.zb(1),o.uc("ngIf",i.quiz.userQuizInfo.timeLeftToNexAttempt),o.zb(1),o.uc("ngIf",i.quiz.maxAttemptsCount)}}var X,Z,Y,K,G,J,tt,et,it,nt=function(t){return{name:t,sprite:"task"}},ot=function(){function t(t,e,i){this.logger=t,this.meProfileService=e,this.cdr=i,this.UserQuizStatus=_.a,this.onOpen=new o.n,this.attemptsLeft=null,this.subscriptionsToClose=[],this.isDestroyed$=new p.a,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnInit=function(){var t=this;this.quizType=this.quiz.type.toLowerCase(),this.quizTypeDisplayName=h.a.getDisplayName(this.quiz.type),this.isUserQuizResultAvailable=this.quiz.userQuizInfo.resultStatus&&this.quiz.userQuizInfo.resultStatus!==q.a.UNKNOWN,this.isLastResultVisible=this.quiz.type!==h.a.QUIZ&&this.isUserQuizResultAvailable,this.quiz.maxAttemptsCount&&(this.attemptsLeft=this.quiz.maxAttemptsCount-this.quiz.userQuizInfo.attempt),this.meProfileService.isUserAuthenticated().pipe(Object(z.a)(this.isDestroyed$)).subscribe(function(e){t.isMeAuthorized=e,t.isQuizAvailableForMe=e&&(!t.quiz.maxAttemptsCount||t.attemptsLeft>0)&&t.quiz.userQuizInfo.status!==_.a.UNAVAILABLE,t.cdr.markForCheck()})},t.prototype.openQuiz=function(){this.onOpen.next()},t.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(m.a),o.Ob(o.h))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-cover"]],inputs:{quiz:"quiz"},outputs:{onOpen:"onOpen"},decls:31,vars:16,consts:function(){return[[1,"task-widget-card"],[1,"task-widget-card__container"],[1,"task-widget-card__teacher"],[1,"task-widget-card__avatar"],["size","lg",3,"src"],["class","task-widget-card__cost",4,"ngIf"],[1,"task-widget-card__main"],[1,"task-widget-card__header"],[1,"task-widget-card__source"],[1,"post-source-meta"],[1,"post-source-meta__main"],[1,"post-source-meta__label"],"\u041E\u043F\u0440\u043E\u0441",[1,"post-source-meta__icon"],["data-toggle","tooltip","data-html","true","data-placement","top",1,"d-inline-flex",3,"title"],[3,"icon"],[4,"ngIf"],[1,"task-widget-card__status"],[3,"status",4,"ngIf","ngIfElse"],["quizStatus",""],[1,"task-widget-card__stars"],[3,"rating"],[1,"task-widget-card__content"],[1,"task-widget-card__title",3,"innerHTML"],[1,"task-widget-card__desc",3,"innerHTML"],[1,"task-widget-card__footer"],["class","task-widget-card__open",4,"ngIf"],["class","task-widget-card__logo","src","/assets/images/site/logo/logo-short.svg","alt","{","aria-hidden","true",4,"ngIf"],["class","task-widget-card__logo task-widget-card__logo--disabled","src","/assets/images/site/logo/logo-short-gray.svg","alt","{","aria-hidden","true",4,"ngIf"],["class","task-widget-card__result",4,"ngIf"],[1,"task-widget-card__cost"],[3,"cost"],[1,"post-source-meta__extra"]," " + "\ufffd0\ufffd" + ",\xA0 " + "\ufffd1\ufffd" + " \u0443\u0440\u043E\u0432\u0435\u043D\u044C,\xA0 " + "\ufffd2\ufffd" + " \u043B\u0435\u043A\u0446\u0438\u044F ",[3,"status"],[1,"task-widget-card__open"],[4,"ngIf","ngIfElse"],["quizNotAvailableSection",""],[3,"variant","size","bold","onClick"]," \u041E\u0442\u043A\u0440\u044B\u0442\u044C ",[3,"variant","size","bold","jrAuthModalLink"]," \u041E\u0442\u043A\u0440\u044B\u0442\u044C ",["class","hint-text text-danger",4,"ngIf"],[1,"hint-text","text-danger"]," You can't take this test because you have run out of the attempts. ",["src","/assets/images/site/logo/logo-short.svg","alt","{","aria-hidden","true",1,"task-widget-card__logo"],["src","/assets/images/site/logo/logo-short-gray.svg","alt","{","aria-hidden","true",1,"task-widget-card__logo","task-widget-card__logo--disabled"],[1,"task-widget-card__result"],[1,"task-result","task-result--horizontal","task-result--md"],[1,"task-result__list"],[1,"task-result__item"],[1,"task-result__icon"],[1,"task-result__label"]," \u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442: " + "\ufffd#8\ufffd" + "" + "\ufffd0\ufffd" + "/" + "\ufffd1\ufffd" + "" + "\ufffd/#8\ufffd" + "",["class","task-result__item",4,"ngIf"]," Retake the test " + "\ufffd#5\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#5\ufffd" + "",[1,"task-result__icon","task-result__icon--light"],[1,"task-result__icon","task-result__icon--dark"],[1,"d-none","d-sm-inline"],"Number of attempts remaining: ",[1,"d-sm-none"],"Attempts left: "]},template:function(t,e){if(1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.Pb(4,"jr-avatar",4),o.Tb(),o.Oc(5,Q,2,1,"div",5),o.Tb(),o.Ub(6,"div",6),o.Ub(7,"div",7),o.Ub(8,"div",8),o.Ub(9,"div",9),o.Ub(10,"div",10),o.Ub(11,"span",11),o.Yb(12,12),o.Tb(),o.Ub(13,"span",13),o.Ub(14,"div",14),o.Pb(15,"jr-icon",15),o.Tb(),o.Tb(),o.Tb(),o.Oc(16,M,3,3,"ng-container",16),o.Tb(),o.Tb(),o.Ub(17,"div",17),o.Oc(18,k,1,1,"jr-user-quiz-result-status",18),o.Oc(19,R,1,1,"ng-template",null,19,o.Pc),o.Tb(),o.Ub(21,"div",20),o.Pb(22,"jr-rating-stars",21),o.Tb(),o.Tb(),o.Ub(23,"div",22),o.Pb(24,"div",23),o.Pb(25,"div",24),o.Tb(),o.Ub(26,"div",25),o.Oc(27,L,4,2,"div",26),o.Oc(28,j,1,0,"img",27),o.Oc(29,N,1,0,"img",28),o.Tb(),o.Tb(),o.Tb(),o.Oc(30,V,11,6,"div",29),o.Tb()),2&t){var i=o.Ec(20);o.zb(4),o.uc("src",e.quiz.pictureUrl),o.zb(1),o.uc("ngIf",e.quiz.reward),o.zb(9),o.vc("title",e.quizTypeDisplayName),o.zb(1),o.uc("icon",o.yc(14,nt,"type-"+e.quizType)),o.zb(1),o.uc("ngIf",e.quiz&&e.quiz.questId),o.zb(2),o.uc("ngIf",e.isUserQuizResultAvailable)("ngIfElse",i),o.zb(4),o.uc("rating",e.quiz.rating),o.zb(2),o.uc("innerHTML",e.quiz.title,o.Ic),o.zb(1),o.uc("innerHTML",e.quiz.description,o.Ic),o.zb(2),o.uc("ngIf",void 0!==e.isQuizAvailableForMe),o.zb(1),o.uc("ngIf",e.quiz.userQuizInfo.status!==e.UserQuizStatus.UNAVAILABLE),o.zb(1),o.uc("ngIf",e.quiz.userQuizInfo.status===e.UserQuizStatus.UNAVAILABLE),o.zb(1),o.uc("ngIf",e.isLastResultVisible)}},directives:[v.a,n.m,O.a,C.a,w.a,x.a,T.a,S.a,y],styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),t}(),st=function(){return function(){this.answerIds=[]}}(),ut=function(t){return t.SELECT_ONE="SELECT_ONE",t.SELECT_MULTI="SELECT_MULTI",t.INPUT_LINE="INPUT_LINE",t.INPUT_TEXT="INPUT_TEXT",t}({}),rt=function(t){return t.PRISTINE="PRISTINE",t.CORRECT="CORRECT",t.WRONG="WRONG",t}({}),ct=i("G1cX"),at=i.n(ct),dt=i("2Vo4"),lt=i("LRne"),bt=i("Cfvw"),ft=i("HDdC"),gt=i("pLZG"),pt=i("/TgR"),zt=function(){return function(){}}(),ht=function(){function t(t,e,i,n,o){this.logger=t,this.quizExceptionService=e,this.quizBackendClient=i,this.quizzesService=n,this.meProfileService=o,this.quizSource=new dt.a(void 0),this.quiz$=this.quizSource.asObservable(),this.questionsStateSource=new dt.a([]),this.questionsState$=this.questionsStateSource.asObservable(),this.questionResultSource=new p.a,this.questionResult$=this.questionResultSource.asObservable(),this.showQuizResultSource=new p.a,this.showQuizResult$=this.showQuizResultSource.asObservable(),this.quizWidgetMaximizedStatusSource=new dt.a(!1),this.quizWidgetMaximizedStatus$=this.quizWidgetMaximizedStatusSource.asObservable(),this.logger.debug(this.constructor.name+" is created.")}return t.prototype.initQuizClient=function(t,e){this.updateQuiz(t);var i=e.map(function(t,e){var i=new zt;return i.quizQuestion=t,i.questionIndex=e+1,i.isAnswered=t.userAnswerStatus!==rt.PRISTINE,i.isActive=!1,i});i[(t.userQuizInfo.currentQuestionIndex?t.userQuizInfo.currentQuestionIndex:1)-1].isActive=!0,this.logger.debug("Quiz initialization...",i),this.questionsStateSource.next(i),this.updateQuizFromServer()},t.prototype.updateQuiz=function(t){this.quizSource.next(t),this.quizzesService&&this.quizzesService.updateQuiz(t)},t.prototype.updateQuizFromServer=function(){var t=this;this.quizBackendClient.loadQuiz(this.quizSource.getValue().key).subscribe(function(e){t.updateQuiz(e)})},t.prototype.openNextUnansweredQuestion=function(){var t,e=this.questionsStateSource.getValue().find(function(t){return t.isActive});return(t=this.questionsStateSource.getValue().find(function(t){return t.questionIndex>e.questionIndex&&!t.isAnswered}))||(t=this.questionsStateSource.getValue().find(function(t){return!t.isAnswered})),t?(this.changeCurrentQuestion(e.questionIndex,t.questionIndex),Object(lt.a)(null)):this.completeQuiz()},t.prototype.skipQuestion=function(){var t=this,e=this.questionsStateSource.getValue().find(function(t){return t.isActive}).quizQuestion,i=new st;return this.quizBackendClient.submitQuestion(this.quizSource.getValue().id.toString(),e.id,i).pipe(Object(s.a)(function(e){return t.quizExceptionService.handleRequestErrorInfo(e),Object(lt.a)(!0)}),Object(c.a)(function(){return t.openNextUnansweredQuestion()}))},t.prototype.openNextQuestion=function(){var t=this.questionsStateSource.getValue().find(function(t){return t.isActive}).questionIndex;return this.changeCurrentQuestion(t,t+1),Object(lt.a)(null)},t.prototype.openPreviousQuestion=function(){var t=this.questionsStateSource.getValue().find(function(t){return t.isActive}).questionIndex;return this.changeCurrentQuestion(t,t-1),Object(lt.a)(null)},t.prototype.changeCurrentQuestion=function(t,e){var i=this.questionsStateSource.getValue();i=at()(i,function(t,e){return t[e.index-1]},function(t){return t.isActive=!1,t},{index:t}),i=at()(i,function(t,e){return t[e.index-1]},function(t){return t.isActive=!0,t},{index:e}),this.questionsStateSource.next(i)},t.prototype.modifyAnswer=function(t,e){var i=this.questionsStateSource.getValue(),n=i.find(function(t){return t.isActive}).quizQuestion;if(n){switch(n.type){case ut.SELECT_ONE:Object(bt.a)(n.answers).pipe(Object(gt.a)(function(t){return t.userAnswer.selected}),Object(r.a)(function(t){return n.answers.indexOf(t)}),Object(u.a)(function(t){n=at()(n,function(t,e){return t.answers[e.index].userAnswer},function(t){return t.selected=!1,t},{index:t})})).subscribe(),n=at()(n,function(t,e){return t.answers[e.index].userAnswer},function(e){return e.selected=!t.userAnswer.selected,e},{index:n.answers.findIndex(function(e){return e.id===t.id})})}i=at()(i,function(t,e){return t[e.index]},function(t){return t.quizQuestion=n,t},{index:i.findIndex(function(t){return t.isActive})}),this.questionsStateSource.next(i)}},t.prototype.submitAnswer=function(t){var e=this,i=this.questionsStateSource.getValue(),n=i.find(function(t){return t.isActive}).quizQuestion,o=new st;o.answerIds=n.answers.filter(function(t){return t.userAnswer.selected}).map(function(t){return t.id}),n.answers.some(function(t){return!!t.userAnswer.input})&&(o.input=n.answers.find(function(t){return!!t.userAnswer.input}).userAnswer.input),this.logger.debug("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430",o),this.quizBackendClient.submitQuestion(this.quizSource.getValue().id.toString(),n.id,o).pipe(Object(s.a)(function(t){return e.quizExceptionService.handleRequestErrorInfo(t),a.a}),Object(u.a)(function(t){return e.logger.info("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0442\u0432\u0435\u0442\u0430",t)})).subscribe(function(n){var o=n.every(function(t){return t.isCorrect}),s=n.some(function(t){return null!==t.isCorrect?!t.isCorrect:null}),u=o?rt.CORRECT:s?rt.WRONG:null;i=at()(i,function(t,e){return t[e.index]},function(t){return t.isAnswered=!0,t},{index:i.findIndex(function(t){return t.isActive})}),i=at()(i,function(t,e){return t[e.index].quizQuestion},function(t){return t.userAnswerStatus=u,t},{index:i.findIndex(function(t){return t.isActive})}),e.questionsStateSource.next(i),null!==u?(e.openQuestionResult(n),t()):e.openNextUnansweredQuestion().subscribe(function(){t()})})},t.prototype.openQuestionResult=function(t){this.questionResultSource.next(t)},t.prototype.hideQuestionResult=function(){this.questionResultSource.next(!1)},t.prototype.completeQuiz=function(){var t=this;return new ft.a(function(e){t.quizBackendClient.loadQuiz(t.quizSource.getValue().key).subscribe(function(i){t.logger.info("\u041e\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d",i),t.updateQuiz(i),t.showQuizResultSource.next(!0),t.sendQuizEventToParentWindow(i.key,i.userQuizInfo.resultStatus,i.reward),t.meProfileService.updateAuthProfile().subscribe(),e.next()})})},t.prototype.sendQuizEventToParentWindow=function(t,e,i){if(window.parent&&"function"==typeof CustomEvent){var n=new CustomEvent("quiz-info",{detail:{key:t,status:e,matter:i}});window.parent.dispatchEvent(n)}},t.prototype.toggleMaximizedStatus=function(){this.quizWidgetMaximizedStatusSource.next(!this.quizWidgetMaximizedStatusSource.getValue())},t.prototype.ngOnDestroy=function(){this.quizSource.complete(),this.questionsStateSource.complete(),this.questionResultSource.complete(),this.showQuizResultSource.complete(),this.quizWidgetMaximizedStatusSource.complete()},t.\u0275fac=function(e){return new(e||t)(o.fc(l.a),o.fc(f.a),o.fc(b.a),o.fc(pt.a,8),o.fc(m.a))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac}),t}(),qt=i("ldGn"),_t=function(t,e){return{"quiz-progress-bar__step--passed":t,"quiz-progress-bar__step--active":e}},mt=function(t,e){return{"background-size":t,"background-position":e}},vt=function(){return{}};function Ot(t,e){if(1&t&&(o.Sb(0),o.Pb(1,"div",6),o.Rb()),2&t){var i=e.index,n=o.mc();o.zb(1),o.uc("ngClass",o.zc(2,_t,i<n.questionsPassedCount,n.isStepActive(i)))("ngStyle",i<n.questionsPassedCount?o.zc(5,mt,100*n.questionsPassedCount+"%",100/n.questionsPassedCount*i+"%"):o.xc(8,vt))}}var Ct=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnChanges=function(t){this.currentQuestionIndex=1+this.questionsState.findIndex(function(t){return t.isActive}),this.questionsPassedCount=this.questionsState.filter(function(t){return t.isAnswered}).length},t.prototype.isStepActive=function(t){return 0===t&&void 0===this.questionsPassedCount||this.questionsPassedCount===t},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-progress"]],inputs:{questionsState:"questionsState"},features:[o.xb],decls:7,vars:6,consts:[[1,"quiz-progress"],[1,"quiz-progress__count"],[1,"quiz-progress__bar"],["role","progressbar",1,"quiz-progress-bar"],[1,"quiz-progress-bar__track"],[4,"ngFor","ngForOf"],["aria-hidden","true",1,"quiz-progress-bar__step",3,"ngClass","ngStyle"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Qc(2),o.Tb(),o.Ub(3,"div",2),o.Ub(4,"div",3),o.Ub(5,"div",4),o.Oc(6,Ot,2,9,"ng-container",5),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.zb(2),o.Tc("",e.questionsPassedCount+1,"/",e.questionsState.length,""),o.zb(2),o.Ab("aria-valuenow",e.currentQuestionIndex)("aria-valuemin",1)("aria-valuemax",e.questionsState.length),o.zb(2),o.uc("ngForOf",e.questionsState))},directives:[n.l,n.k,n.n],styles:['[_nghost-%COMP%]{display:block;width:100%}.quiz-progress[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;font-size:14px}.quiz-progress__count[_ngcontent-%COMP%]{width:100%;max-width:calc(5ch + 10px);flex-basis:calc(5ch + 10px);padding-right:10px;line-height:1}.quiz-progress__bar[_ngcontent-%COMP%]{width:100%;max-width:calc(100% - 5ch - 10px);flex-basis:calc(100% - 5ch - 10px)}.quiz-progress-bar[_ngcontent-%COMP%]{position:relative;width:100%;height:14px}.quiz-progress-bar__track[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;flex-direction:row;flex-wrap:nowrap}.quiz-progress-bar__step[_ngcontent-%COMP%]{position:relative;height:14px;flex-grow:1;flex-basis:0;background-image:linear-gradient(180deg,#193348 15%,#22425e);border-bottom:1px solid #46677d;box-shadow:inset 1px 1px 4px 0 rgba(25,51,72,.9)}@media (min-width:992px){.quiz-progress-bar__step[_ngcontent-%COMP%]{margin-right:2px}}.quiz-progress-bar__step[_ngcontent-%COMP%]:first-child{border-radius:7px 0 0 7px}.quiz-progress-bar__step[_ngcontent-%COMP%]:first-child:after, .quiz-progress-bar__step[_ngcontent-%COMP%]:first-child:before{left:1px}.quiz-progress-bar__step[_ngcontent-%COMP%]:last-child{margin-right:0;border-radius:0 7px 7px 0}.quiz-progress-bar__step[_ngcontent-%COMP%]:last-child:after, .quiz-progress-bar__step[_ngcontent-%COMP%]:last-child:before{right:1px}.quiz-progress-bar__step[_ngcontent-%COMP%]:before{max-width:0;background-size:inherit;background-position:inherit;transition:max-width .2s cubic-bezier(.645,.045,.355,1)}@media (min-width:992px){.quiz-progress-bar__step[_ngcontent-%COMP%]:after{transition:box-shadow 0s .2s}}.quiz-progress-bar__step[_ngcontent-%COMP%]:after, .quiz-progress-bar__step[_ngcontent-%COMP%]:before{content:"";position:absolute;top:1px;bottom:1px;left:0;right:0;border-radius:inherit}@media (min-width:768px){.quiz-progress-bar__step[_ngcontent-%COMP%]:after, .quiz-progress-bar__step[_ngcontent-%COMP%]:before{left:1px;right:1px}}.quiz-progress-bar__step--active[_ngcontent-%COMP%]:before{width:100%;max-width:100%;border:1px solid #dcffbe;box-shadow:0 0 6px #66c043}@media (min-width:768px){.quiz-progress-bar__step--active[_ngcontent-%COMP%]:before{width:calc(100% - 2px);max-width:calc(100% - 2px)}}.quiz-progress-bar__step--passed[_ngcontent-%COMP%]:before{width:100%;max-width:100%;background-image:linear-gradient(90deg,#8bcc52,#6bbe52,#009906)}@media (min-width:768px){.quiz-progress-bar__step--passed[_ngcontent-%COMP%]:before{width:calc(100% - 2px);max-width:calc(100% - 2px)}}@media (min-width:768px){.quiz-progress-bar__step--passed[_ngcontent-%COMP%]:after{box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.17);mix-blend-mode:overlay}}.light[_nghost-%COMP%]   .quiz-progress-bar__step[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-progress-bar__step[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#244c71,#2e618f);border-bottom:1px solid #4c7ca5;box-shadow:inset 1px 1px 3px 0 rgba(32,72,106,.75)}'],changeDetection:0}),t}(),wt=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Jb({type:t,selectors:[["","jrQuizWidgetBody",""]]}),t}(),xt=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Jb({type:t,selectors:[["","jrQuizWidgetFooter",""]]}),t}(),Tt=i("RTGj");function St(t,e){1&t&&(o.Ub(0,"div",5),o.sc(1,1),o.Tb())}var Pt=[[["","jrQuizWidgetBody",""]],[["","jrQuizWidgetFooter",""]]],It=function(t){return{"quiz-widget-content--centered":t}},yt=["[jrQuizWidgetBody]","[jrQuizWidgetFooter]"],Qt=function(){function t(t,e){this.logger=t,this.cdr=e,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngDoCheck=function(){this.cdr.markForCheck()},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(o.h))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-widget-content"]],contentQueries:function(t,e,i){if(1&t&&(o.Hb(i,wt,1),o.Hb(i,xt,1)),2&t){var n=void 0;o.Dc(n=o.jc())&&(e.body=n.first),o.Dc(n=o.jc())&&(e.footer=n.first)}},inputs:{centered:"centered"},ngContentSelectors:yt,decls:6,vars:5,consts:[[1,"quiz-widget-content",3,"ngClass"],["jrScrollbar","",1,"quiz-widget-content__scroll-container",3,"alwaysVisible"],[1,"quiz-widget-content__body"],[1,"quiz-widget-content__inner"],["class","quiz-widget-content__footer",4,"ngIf"],[1,"quiz-widget-content__footer"]],template:function(t,e){1&t&&(o.tc(Pt),o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.sc(4),o.Tb(),o.Tb(),o.Tb(),o.Oc(5,St,2,0,"div",4),o.Tb()),2&t&&(o.uc("ngClass",o.yc(3,It,e.centered)),o.zb(1),o.uc("alwaysVisible",!0),o.zb(4),o.uc("ngIf",e.footer))},directives:[n.k,Tt.a,n.m],styles:[".quiz-widget-content[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;width:100%}.quiz-widget-content[_ngcontent-%COMP%]{position:relative;flex-direction:column}.quiz-widget-content--centered[_ngcontent-%COMP%]   .quiz-widget-content__inner[_ngcontent-%COMP%]{margin:auto;padding-bottom:50px}@media (min-width:768px){.quiz-widget-content--centered[_ngcontent-%COMP%]   .quiz-widget-content__inner[_ngcontent-%COMP%]{padding-bottom:70px}}@media (min-width:992px){.quiz-widget-content--centered[_ngcontent-%COMP%]   .quiz-widget-content__inner[_ngcontent-%COMP%]{padding-bottom:80px}}.quiz-widget-content__scroll-container[_ngcontent-%COMP%]{position:relative;opacity:.001;overflow:auto;min-height:0;-webkit-animation:fadeIn .15s .1s;animation:fadeIn .15s .1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.quiz-widget-content__body[_ngcontent-%COMP%], .quiz-widget-content__scroll-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.quiz-widget-content__inner[_ngcontent-%COMP%]{padding:20px}@media (min-width:768px){.quiz-widget-content__inner[_ngcontent-%COMP%]{padding:30px 25px}}@media (min-width:992px){.quiz-widget-content__inner[_ngcontent-%COMP%]{padding:35px 30px 40px}}.quiz-widget-content__footer[_ngcontent-%COMP%]{flex:none;align-self:flex-end;width:100%;padding:20px 15px;border-top:1px solid #434343;border-radius:0 0 10px 10px;background:#363636}@media (min-width:768px){.quiz-widget-content__footer[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}@media (min-width:992px){.quiz-widget-content__footer[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}}.light[_nghost-%COMP%]   .quiz-widget-content__footer[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-widget-content__footer[_ngcontent-%COMP%]{border-top-color:#e1e3e8;background:#f6f7fa}"],changeDetection:0}),t}(),Mt=i("pQ9U");function kt(t,e){if(1&t&&o.Pb(0,"jr-content",3),2&t){var i=o.mc();o.uc("innerHtml",i.content,o.Ic)("renderWhiteSpaces",!0)}}var Rt=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-question-content"]],inputs:{title:"title",content:"content"},decls:3,vars:2,consts:[[1,"quiz-question-content"],[1,"quiz-question-content__title",3,"innerHTML"],[3,"innerHtml","renderWhiteSpaces",4,"ngIf"],[3,"innerHtml","renderWhiteSpaces"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Pb(1,"h4",1),o.Oc(2,kt,1,2,"jr-content",2),o.Tb()),2&t&&(o.zb(1),o.uc("innerHTML",e.title,o.Ic),o.zb(1),o.uc("ngIf",e.content&&" "!==e.content))},directives:[n.m,Mt.a],styles:[".quiz-question-content[_ngcontent-%COMP%]{width:100%;font-size:18px}@media (min-width:768px){.quiz-question-content[_ngcontent-%COMP%]     pre{font-size:.88889em}}.quiz-question-content__title[_ngcontent-%COMP%]{margin-bottom:1em}.quiz-question-content__title[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0}),t}(),Ut=["*"],At=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-question-answer"]],ngContentSelectors:Ut,decls:2,vars:0,consts:[[1,"quiz-question-answer"]],template:function(t,e){1&t&&(o.tc(),o.Ub(0,"div",0),o.sc(1),o.Tb())},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:not(:first-child){margin-top:25px}@media (min-width:768px){[_nghost-%COMP%]:not(:first-child){margin-top:30px}}@media (min-width:992px){[_nghost-%COMP%]:not(:first-child){margin-top:35px}}.quiz-question-answer[_ngcontent-%COMP%]:not(:first-child){padding-top:0}.quiz-question-answer[_ngcontent-%COMP%]     .options-list{margin-left:-20px;margin-right:-20px}@media (min-width:768px){.quiz-question-answer[_ngcontent-%COMP%]     .options-list{margin-left:-25px;margin-right:-25px}}@media (min-width:992px){.quiz-question-answer[_ngcontent-%COMP%]     .options-list{margin-left:-30px;margin-right:-30px}}"],changeDetection:0}),t}(),Et=function(t){return{"options-list__item--checked":t}};function Lt(t,e){if(1&t){var i=o.Vb();o.Ub(0,"li",4),o.ic("click",function(){o.Hc(i);var t=e.$implicit;return o.mc(2).toggleAnswer(t)}),o.Ub(1,"div",5),o.Pb(2,"input",6),o.Tb(),o.Ub(3,"div",7),o.Pb(4,"jr-content",8),o.Tb(),o.Tb()}if(2&t){var n=e.$implicit,s=o.mc(2);o.uc("ngClass",o.yc(7,Et,n.userAnswer.selected)),o.zb(2),o.uc("checked",n.userAnswer.selected)("disabled",s.isDisabled),o.zb(2),o.uc("renderWhiteSpaces",!0)("highlightCode",!1)("inherit",!0)("innerHtml",n.content,o.Ic)}}function jt(t,e){if(1&t&&(o.Sb(0),o.Oc(1,Lt,5,9,"li",3),o.Rb()),2&t){var i=o.mc();o.zb(1),o.uc("ngForOf",i.activeQuestionState.quizQuestion.answers)}}var Nt=function(t){return{"options-list--disabled":t}},Bt=function(){function t(t,e){this.logger=t,this.quizClientService=e,this.QuizQuestionType=ut,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.toggleAnswer=function(t){this.isDisabled||this.quizClientService.modifyAnswer(t)},t.prototype.writeAnswer=function(t,e){this.quizClientService.modifyAnswer(t,e)},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(ht))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-question-answers"]],inputs:{quizQuestionType:"quizQuestionType",activeQuestionState:"activeQuestionState",isDisabled:"isDisabled"},decls:3,vars:5,consts:[[1,"options-list",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","options-list__item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"options-list__item",3,"ngClass","click"],[1,"options-list__control"],["type","radio",3,"checked","disabled"],[1,"options-list__content"],[3,"renderWhiteSpaces","highlightCode","inherit","innerHtml"]],template:function(t,e){1&t&&(o.Ub(0,"ul",0),o.Sb(1,1),o.Oc(2,jt,2,1,"ng-container",2),o.Rb(),o.Tb()),2&t&&(o.uc("ngClass",o.yc(3,Nt,e.isDisabled)),o.zb(1),o.uc("ngSwitch",e.quizQuestionType),o.zb(1),o.uc("ngSwitchCase",e.QuizQuestionType.SELECT_ONE))},directives:[n.k,n.o,n.p,n.l,Mt.a],encapsulation:2,changeDetection:0}),t}(),Dt=[[["","prev",""]],[["","next",""]]],Ht=["[prev]","[next]"],$t=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-widget-nav"]],ngContentSelectors:Ht,decls:5,vars:0,consts:[[1,"quiz-widget-nav"],[1,"quiz-widget-nav__prev"],[1,"quiz-widget-nav__next"]],template:function(t,e){1&t&&(o.tc(Dt),o.Ub(0,"div",0),o.Ub(1,"div",1),o.sc(2),o.Tb(),o.Ub(3,"div",2),o.sc(4,1),o.Tb(),o.Tb())},styles:[".quiz-widget-nav[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:space-between}.quiz-widget-nav__next[_ngcontent-%COMP%], .quiz-widget-nav__prev[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:48%;font-size:15px}@media (min-width:576px){.quiz-widget-nav__next[_ngcontent-%COMP%], .quiz-widget-nav__prev[_ngcontent-%COMP%]{min-width:150px}}.quiz-widget-nav__next[_ngcontent-%COMP%]     .button, .quiz-widget-nav__prev[_ngcontent-%COMP%]     .button{font-size:15px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (min-width:576px){.quiz-widget-nav__next[_ngcontent-%COMP%]     .button, .quiz-widget-nav__prev[_ngcontent-%COMP%]     .button{height:44px}}"],changeDetection:0}),t}();function Ft(t,e){1&t&&(o.Sb(0),o.Ub(1,"b"),o.Yb(2,9),o.Tb(),o.Rb())}function Wt(t,e){1&t&&(o.Sb(0),o.Ub(1,"b"),o.Yb(2,10),o.Tb(),o.Rb())}function Vt(t,e){1&t&&(o.Sb(0),o.Ub(1,"b"),o.Yb(2,11),o.Tb(),o.Rb())}var Xt=function(){return{name:"prev"}};function Zt(t,e){if(1&t){var i=o.Vb();o.Sb(0),o.Ub(1,"jr-button",12),o.ic("onClick",function(){return o.Hc(i),o.mc().previousQuestion()}),o.Yb(2,13),o.Tb(),o.Rb()}2&t&&(o.zb(1),o.uc("variant","info-alt")("size","md")("icon",o.xc(4,Xt))("outlined",!0))}function Yt(t,e){1&t&&(o.Sb(0),o.Yb(1,17),o.Rb())}function Kt(t,e){1&t&&(o.Sb(0),o.Yb(1,18),o.Rb())}var Gt=function(){return{name:"next"}};function Jt(t,e){if(1&t){var i=o.Vb();o.Sb(0),o.Ub(1,"jr-button",14),o.ic("onClick",function(){return o.Hc(i),o.mc().submitAnswer()}),o.Oc(2,Yt,2,0,"ng-container",15),o.Oc(3,Kt,2,0,"ng-template",null,16,o.Pc),o.Tb(),o.Rb()}if(2&t){var n=o.Ec(4),s=o.mc();o.zb(1),o.uc("variant","info-alt")("size","md")("iconAfter",o.xc(7,Gt))("bold",!0)("disabled",s.isButtonDisabled),o.zb(1),o.uc("ngIf","QUIZ"===s.currentQuiz.type)("ngIfElse",n)}}function te(t,e){if(1&t){var i=o.Vb();o.Sb(0),o.Ub(1,"jr-button",19),o.ic("onClick",function(){return o.Hc(i),o.mc().skipQuestion()}),o.Yb(2,20),o.Tb(),o.Rb()}if(2&t){var n=o.mc();o.zb(1),o.uc("variant","info-alt")("size","md")("iconAfter",o.xc(5,Gt))("outlined",!0)("disabled",n.isButtonDisabled)}}function ee(t,e){if(1&t){var i=o.Vb();o.Sb(0),o.Ub(1,"jr-button",21),o.ic("onClick",function(){return o.Hc(i),o.mc().nextQuestion()}),o.Yb(2,22),o.Tb(),o.Rb()}2&t&&(o.zb(1),o.uc("variant","info-alt")("size","md")("iconAfter",o.xc(4,Gt))("outlined",!0))}var ie,ne,oe,se,ue,re,ce,ae,de=function(){function t(t,e,i){this.logger=t,this.cdr=e,this.quizClientService=i,this.QuizQuestionType=ut,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnInit=function(){var t=this;this.quizClientService.quiz$.subscribe(function(e){t.currentQuiz=e,t.cdr.markForCheck()})},t.prototype.ngOnChanges=function(t){this.activeQuestionState=this.questionsState.find(function(t){return t.isActive}),this.checkIfSubmitNeedToBeShown(),this.checkIfSkipNeedToBeShown(),this.checkIfNextNeedToBeShown(),this.checkIfPreviousNeedToBeShown()},t.prototype.checkIfSubmitNeedToBeShown=function(){this.isSubmitButtonShown=this.activeQuestionState.quizQuestion.answers.some(function(t){return t.userAnswer.selected||!!t.userAnswer.input})&&!this.activeQuestionState.isAnswered},t.prototype.checkIfSkipNeedToBeShown=function(){this.isSkipButtonShown=this.activeQuestionState.quizQuestion.answers.every(function(t){return!t.userAnswer.selected&&!t.userAnswer.input})&&this.questionsState.filter(function(t){return!t.isAnswered}).length>1&&!this.activeQuestionState.isAnswered},t.prototype.checkIfPreviousNeedToBeShown=function(){this.isPreviousButtonShown=this.activeQuestionState.questionIndex>1},t.prototype.checkIfNextNeedToBeShown=function(){this.isNextButtonShown=this.activeQuestionState.questionIndex<this.questionsState.length&&(this.activeQuestionState.isAnswered||!this.activeQuestionState.isAnswered&&!this.activeQuestionState.quizQuestion.answers.some(function(t){return t.userAnswer.selected||!!t.userAnswer.input})&&1===this.questionsState.filter(function(t){return!t.isAnswered}).length)},t.prototype.submitAnswer=function(){var t=this;this.toggleButtonDisabledState(),this.quizClientService.submitAnswer(function(){t.toggleButtonDisabledState()})},t.prototype.skipQuestion=function(){var t=this;this.toggleButtonDisabledState(),this.quizClientService.skipQuestion().subscribe(function(){return t.toggleButtonDisabledState()})},t.prototype.previousQuestion=function(){this.quizClientService.openPreviousQuestion().subscribe()},t.prototype.nextQuestion=function(){this.quizClientService.openNextQuestion().subscribe()},t.prototype.toggleButtonDisabledState=function(){this.isButtonDisabled=!this.isButtonDisabled,this.cdr.markForCheck()},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(o.h),o.Ob(ht))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-question"]],inputs:{quiz:"quiz",questionsState:"questionsState"},features:[o.xb],decls:17,vars:13,consts:function(){return[["jrQuizWidgetBody",""],[3,"title","content"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"activeQuestionState","quizQuestionType","isDisabled"],["jrQuizWidgetFooter",""],["prev",""],[4,"ngIf"],["next",""],"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u0438\u043D \u0438\u0437 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432:","Select one or more options:","Type in your answer",[3,"variant","size","icon","outlined","onClick"]," \u041D\u0430\u0437\u0430\u0434 ",[3,"variant","size","iconAfter","bold","disabled","onClick"],[4,"ngIf","ngIfElse"],["checkPhrase",""]," \u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C ","\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C",[3,"variant","size","iconAfter","outlined","disabled","onClick"]," \u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C ",[3,"variant","size","iconAfter","outlined","onClick"]," \u0412\u043F\u0435\u0440\u0435\u0434 "]},template:function(t,e){1&t&&(o.Ub(0,"jr-quiz-widget-content"),o.Sb(1,0),o.Pb(2,"jr-quiz-question-content",1),o.Ub(3,"jr-quiz-question-answer"),o.Ub(4,"p",2),o.Oc(5,Ft,3,0,"ng-container",3),o.Oc(6,Wt,3,0,"ng-container",3),o.Oc(7,Vt,3,0,"ng-container",3),o.Tb(),o.Pb(8,"jr-question-answers",4),o.Tb(),o.Rb(),o.Sb(9,5),o.Ub(10,"jr-quiz-widget-nav"),o.Sb(11,6),o.Oc(12,Zt,3,5,"ng-container",7),o.Rb(),o.Sb(13,8),o.Oc(14,Jt,5,8,"ng-container",7),o.Oc(15,te,3,6,"ng-container",7),o.Oc(16,ee,3,5,"ng-container",7),o.Rb(),o.Tb(),o.Rb(),o.Tb()),2&t&&(o.zb(2),o.uc("title",e.activeQuestionState.quizQuestion.title)("content",e.activeQuestionState.quizQuestion.content),o.zb(2),o.uc("ngSwitch",e.activeQuestionState.quizQuestion.type),o.zb(1),o.uc("ngSwitchCase",e.QuizQuestionType.SELECT_ONE),o.zb(1),o.uc("ngSwitchCase",e.QuizQuestionType.SELECT_MULTI),o.zb(1),o.uc("ngSwitchCase",e.QuizQuestionType.INPUT_LINE||e.QuizQuestionType.INPUT_TEXT),o.zb(1),o.uc("activeQuestionState",e.activeQuestionState)("quizQuestionType",e.activeQuestionState.quizQuestion.type)("isDisabled",e.activeQuestionState.isAnswered),o.zb(4),o.uc("ngIf",e.isPreviousButtonShown),o.zb(2),o.uc("ngIf",e.isSubmitButtonShown),o.zb(1),o.uc("ngIf",e.isSkipButtonShown),o.zb(1),o.uc("ngIf",e.isNextButtonShown))},directives:[Qt,wt,Rt,At,n.o,n.p,Bt,xt,$t,n.m,S.a],styles:["[_nghost-%COMP%]{display:flex;width:100%}"],changeDetection:0}),t}();function le(t,e){1&t&&(o.Sb(0),o.Yb(1,6),o.Rb())}function be(t,e){1&t&&(o.Sb(0),o.Yb(1,7),o.Rb())}function fe(t,e){if(1&t&&(o.Sb(0),o.Oc(1,le,2,0,"ng-container",4),o.Oc(2,be,2,0,"ng-container",4),o.Rb()),2&t){var i=o.mc();o.zb(1),o.uc("ngIf",i.isCorrect),o.zb(1),o.uc("ngIf",!i.isCorrect)}}function ge(t,e){1&t&&(o.Sb(0),o.Yb(1,8),o.Rb())}function pe(t,e){1&t&&(o.Sb(0),o.Yb(1,9),o.Rb())}function ze(t,e){if(1&t&&(o.Sb(0),o.Oc(1,ge,2,0,"ng-container",4),o.Oc(2,pe,2,0,"ng-container",4),o.Rb()),2&t){var i=o.mc();o.zb(1),o.uc("ngIf",i.isCorrect),o.zb(1),o.uc("ngIf",!i.isCorrect)}}function he(t,e){1&t&&(o.Sb(0),o.Yb(1,10),o.Rb())}function qe(t,e){1&t&&(o.Ub(0,"div",11),o.ec(1,12),o.Ub(2,"div",13),o.Pb(3,"s"),o.Tb(),o.bc(),o.Tb())}var _e,me,ve,Oe,Ce,we,xe=function(t){return{name:t,sprite:"quiz"}},Te=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnInit=function(){var t;switch(this.mode){case"test":this.cardStyle=this.isCorrect?"":"failed",this.iconName=this.isCorrect?"result-test-passed":"result-test-failed";break;case"question":this.cardStyle=this.isCorrect?"passed":"failed",this.iconName=this.isCorrect?"result-question-correct":"result-question-wrong";break;default:this.iconName="result-thanks"}this.classes=((t={})["quiz-result-card--"+this.cardStyle]=this.cardStyle,t)},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-result-card"]],inputs:{mode:"mode",isCorrect:"isCorrect"},decls:8,vars:8,consts:function(){return[[1,"quiz-result-card",3,"ngClass"],[1,"quiz-result-card__icon"],[3,"icon"],[1,"quiz-result-card__title"],[4,"ngIf"],["class","quiz-result-card__desc",4,"ngIf"],"\u0422\u0435\u0441\u0442 \u0441\u0434\u0430\u043D!","\u0422\u0435\u0441\u0442 \u043D\u0435 \u0441\u0434\u0430\u043D!","\u0412\u0435\u0440\u043D\u043E!","\u041D\u0435\u0432\u0435\u0440\u043D\u043E!"," \u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u0438\u043C \u0432\u0430\u0441 \u0437\u0430 \u043F\u0440\u043E\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u0435 \u043E\u043F\u0440\u043E\u0441\u0430! ",[1,"quiz-result-card__desc"],"" + "\ufffd#2\ufffd" + "\u042D\u0442\u0438 \u0434\u0430\u043D\u043D\u044B\u0435 \u043F\u043E\u043C\u043E\u0433\u0443\u0442 " + "\ufffd#3\ufffd" + "\u043F\u043E\u0440\u0430\u0431\u043E\u0442\u0438\u0442\u044C" + "\ufffd/#3\ufffd" + " \u0441\u043F\u0430\u0441\u0442\u0438 \u0447\u0435\u043B\u043E\u0432\u0435\u0447\u0435\u0441\u0442\u0432\u043E!" + "\ufffd/#2\ufffd" + "",[1,"content"]]},template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Pb(2,"jr-icon",2),o.Tb(),o.Ub(3,"div",3),o.Oc(4,fe,3,2,"ng-container",4),o.Oc(5,ze,3,2,"ng-container",4),o.Oc(6,he,2,0,"ng-container",4),o.Tb(),o.Oc(7,qe,4,0,"div",5),o.Tb()),2&t&&(o.uc("ngClass",e.classes),o.zb(2),o.uc("icon",o.yc(6,xe,e.iconName)),o.zb(2),o.uc("ngIf","test"===e.mode),o.zb(1),o.uc("ngIf","question"===e.mode),o.zb(1),o.uc("ngIf","quiz"===e.mode),o.zb(1),o.uc("ngIf","quiz"===e.mode))},directives:[n.k,O.a,n.m],styles:[".quiz-result-card--passed[_ngcontent-%COMP%]   .quiz-result-card__title[_ngcontent-%COMP%]{color:#4cb050}.quiz-result-card--failed[_ngcontent-%COMP%]   .quiz-result-card__title[_ngcontent-%COMP%]{color:#ff5b46}.quiz-result-card__icon[_ngcontent-%COMP%]{display:flex;margin-bottom:15px;justify-content:center}.quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-question-correct, .quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-thanks{width:134px;height:130px}.quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-question-wrong{width:157px;height:131px;transform:translateX(-8%)}.quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-test-passed{margin-top:-10px;width:159px;height:140px}.quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-test-failed{width:206px;height:159px;margin-top:-23px;transform:translateX(1%)}@media (min-width:768px){.quiz-result-card__icon[_ngcontent-%COMP%]     .icon--quiz-result-test-failed{margin-top:-27px}}.quiz-result-card__title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;line-height:1.4;font-size:20px;font-weight:600;text-align:center}@media (min-width:576px){.quiz-result-card__title[_ngcontent-%COMP%]{font-size:21px}}@media (min-width:768px){.quiz-result-card__title[_ngcontent-%COMP%]{font-size:23px}}@media (min-width:992px){.quiz-result-card__title[_ngcontent-%COMP%]{font-size:24px}}.quiz-result-card__desc[_ngcontent-%COMP%]{margin-top:10px;text-align:center}"],changeDetection:0}),t}();function Se(t,e){if(1&t&&(o.Ub(0,"div",10),o.Pb(1,"jr-content",11),o.Tb()),2&t){var i=o.mc();o.zb(1),o.uc("innerHtml",i.explanationText,o.Ic)("renderWhiteSpaces",!0)("scalable",!0)}}var Pe,Ie=function(){return{name:"next"}},ye=function(){function t(t,e){this.logger=t,this.quizClientService=e,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnChanges=function(t){var e=this;this.resultIsCorrect=this.submitResults.every(function(t){return t.isCorrect}),this.explanationText=this.submitResults.find(function(t){return t.isCorrect===e.resultIsCorrect}).explanation},t.prototype.continue=function(){var t=this;this.quizClientService.openNextUnansweredQuestion().subscribe(function(){t.quizClientService.hideQuestionResult()})},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(ht))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-question-result"]],inputs:{submitResults:"submitResults"},features:[o.xb],decls:11,vars:8,consts:function(){return[[3,"centered"],["jrQuizWidgetBody",""],[1,"quiz-question-result"],[1,"quiz-question-result__card"],["mode","question",3,"isCorrect"],["class","quiz-question-result__explanation",4,"ngIf"],["jrQuizWidgetFooter",""],["next",""],[3,"variant","size","iconAfter","bold","onClick"]," \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C ",[1,"quiz-question-result__explanation"],[3,"innerHtml","renderWhiteSpaces","scalable"]]},template:function(t,e){1&t&&(o.Ub(0,"jr-quiz-widget-content",0),o.Sb(1,1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.Pb(4,"jr-quiz-result-card",4),o.Tb(),o.Oc(5,Se,2,3,"div",5),o.Tb(),o.Rb(),o.Sb(6,6),o.Ub(7,"jr-quiz-widget-nav"),o.Sb(8,7),o.Ub(9,"jr-button",8),o.ic("onClick",function(){return e.continue()}),o.Yb(10,9),o.Tb(),o.Rb(),o.Tb(),o.Rb(),o.Tb()),2&t&&(o.uc("centered",!0),o.zb(4),o.uc("isCorrect",e.resultIsCorrect),o.zb(1),o.uc("ngIf",e.explanationText),o.zb(4),o.uc("variant","info-alt")("size","md")("iconAfter",o.xc(7,Ie))("bold",!0))},directives:[Qt,wt,Te,n.m,xt,$t,S.a,Mt.a],styles:["[_nghost-%COMP%]{display:flex;width:100%}.quiz-question-result__card[_ngcontent-%COMP%]{margin-top:15px}.quiz-question-result__explanation[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}@media (min-width:576px){.quiz-question-result__explanation[_ngcontent-%COMP%]{margin-top:25px}}@media (min-width:768px){.quiz-question-result__explanation[_ngcontent-%COMP%]{margin-top:30px}}@media (min-width:992px){.quiz-question-result__explanation[_ngcontent-%COMP%]{margin-top:35px}}"],changeDetection:0}),t}(),Qe=i("9n6p");function Me(t,e){if(1&t&&(o.Ub(0,"li",5),o.Pb(1,"jr-status-item",6),o.Tb()),2&t){var i=e.$implicit;o.zb(1),o.uc("label",i.title)}}var ke,Re=function(){function t(t){this.logger=t,this.logger.debug(this.constructor.name+" is created.")}return t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-result-failed-questions"]],inputs:{failedQuestions:"failedQuestions"},decls:7,vars:1,consts:function(){return[[1,"quiz-failed-questions"],[1,"content"],"\u0412\u043E\u043F\u0440\u043E\u0441\u044B \u0441 \u043D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u043C\u0438 \u043E\u0442\u0432\u0435\u0442\u0430\u043C\u0438:",[1,"quiz-failed-list"],["class","quiz-failed-list__item",4,"ngFor","ngForOf"],[1,"quiz-failed-list__item"],["status","failed",3,"label"]]},template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"p"),o.Ub(3,"b"),o.Yb(4,2),o.Tb(),o.Tb(),o.Ub(5,"ul",3),o.Oc(6,Me,2,1,"li",4),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.zb(6),o.uc("ngForOf",e.failedQuestions))},directives:[n.l,Qe.a],styles:[".quiz-failed-questions[_ngcontent-%COMP%]{background:rgba(255,90,95,.07);margin-left:-20px;margin-right:-20px;padding:20px}@media (min-width:768px){.quiz-failed-questions[_ngcontent-%COMP%]{margin-left:-25px;margin-right:-25px;padding:30px 25px 25px}}@media (min-width:992px){.quiz-failed-questions[_ngcontent-%COMP%]{margin-left:-30px;margin-right:-30px;padding:35px 30px}}",".quiz-failed-list[_ngcontent-%COMP%]{display:block;list-style:none;padding:0;margin:0;font-size:15px}@media (min-width:768px){.quiz-failed-list[_ngcontent-%COMP%]{font-size:16px}}.quiz-failed-list__item[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.quiz-failed-list__item[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0}),t}(),Ue=function(){return{name:"attempts",sprite:"task"}},Ae=function(){return{name:"attempts-dark",sprite:"task"}};function Ee(t,e){if(1&t&&(o.Ub(0,"li",10),o.Ub(1,"span",17),o.Pb(2,"jr-icon",12),o.Tb(),o.Ub(3,"span",18),o.Pb(4,"jr-icon",12),o.Tb(),o.Ub(5,"span",13),o.ec(6,19),o.Pb(7,"b"),o.bc(),o.Tb(),o.Tb()),2&t){var i=o.mc(2);o.zb(2),o.uc("icon",o.xc(3,Ue)),o.zb(2),o.uc("icon",o.xc(4,Ae)),o.zb(3),o.cc(i.quiz.userQuizInfo.attempt),o.Zb(6)}}var Le=function(){return{name:"retry",sprite:"task"}};function je(t,e){if(1&t&&(o.Ub(0,"li",10),o.Ub(1,"span",11),o.Pb(2,"jr-icon",12),o.Tb(),o.Ub(3,"span",13),o.ec(4,20),o.Pb(5,"b"),o.bc(),o.Tb(),o.Tb()),2&t){var i=o.mc(2);o.zb(2),o.uc("icon",o.xc(2,Le)),o.zb(3),o.cc(i.quiz.userQuizInfo.timeLeftToNexAttempt),o.Zb(4)}}var Ne=function(){return{name:"result",sprite:"task"}},Be=function(){return{name:"dark-matter"}};function De(t,e){if(1&t&&(o.Ub(0,"div",7),o.Ub(1,"div",8),o.Ub(2,"ul",9),o.Ub(3,"li",10),o.Ub(4,"span",11),o.Pb(5,"jr-icon",12),o.Tb(),o.Ub(6,"span",13),o.ec(7,14),o.Pb(8,"b"),o.bc(),o.Tb(),o.Tb(),o.Oc(9,Ee,8,5,"li",15),o.Oc(10,je,6,3,"li",15),o.Ub(11,"li",10),o.Ub(12,"span",11),o.Pb(13,"jr-icon",12),o.Tb(),o.Ub(14,"span",13),o.ec(15,16),o.Pb(16,"b"),o.bc(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t){var i=o.mc();o.zb(5),o.uc("icon",o.xc(7,Ne)),o.zb(3),o.cc(i.quiz.userQuizInfo.questionsPassedCount)(i.quiz.userQuizInfo.questionsTotalCount),o.Zb(7),o.zb(1),o.uc("ngIf",i.quiz.userQuizInfo.attempt),o.zb(1),o.uc("ngIf",i.quiz.userQuizInfo.timeLeftToNexAttempt),o.zb(3),o.uc("icon",o.xc(8,Be)),o.zb(3),o.cc(i.quiz.reward),o.Zb(15)}}function He(t,e){if(1&t&&o.Pb(0,"jr-quiz-result-failed-questions",23),2&t){var i=o.mc(2);o.uc("failedQuestions",i.failedQuestions)}}function $e(t,e){if(1&t&&(o.Ub(0,"div",21),o.Oc(1,He,1,1,"jr-quiz-result-failed-questions",22),o.Tb()),2&t){var i=o.mc();o.zb(1),o.uc("ngIf",i.failedQuestions.length)}}var Fe,We,Ve,Xe,Ze=function(){function t(t){this.logger=t,this.UserQuizResultStatus=q.a,this.QuizType=h.a,this.failedQuestions=[],this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnChanges=function(t){this.failedQuestions=this.questionsState.map(function(t){return t.quizQuestion}).filter(function(t){return t.userAnswerStatus===rt.WRONG})},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-result"]],inputs:{quiz:"quiz",questionsState:"questionsState"},features:[o.xb],decls:7,vars:5,consts:function(){return[[3,"centered"],["jrQuizWidgetBody",""],[1,"quiz-final-result"],[1,"quiz-final-result__card"],[3,"mode","isCorrect"],["class","quiz-final-result__info",4,"ngIf"],["class","quiz-final-result__failed-questions",4,"ngIf"],[1,"quiz-final-result__info"],[1,"quiz-result-info"],[1,"quiz-result-info__list"],[1,"quiz-result-info__item"],[1,"quiz-result-info__icon"],[3,"icon"],[1,"quiz-result-info__label"]," \u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0445 \u043E\u0442\u0432\u0435\u0442\u043E\u0432: " + "\ufffd#8\ufffd" + "" + "\ufffd0\ufffd" + "/" + "\ufffd1\ufffd" + "" + "\ufffd/#8\ufffd" + "",["class","quiz-result-info__item",4,"ngIf"]," \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043E \u043C\u0430\u0442\u0435\u0440\u0438\u0438 " + "\ufffd#16\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#16\ufffd" + "",[1,"quiz-result-info__icon","quiz-result-info__icon--light"],[1,"quiz-result-info__icon","quiz-result-info__icon--dark"]," \u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043F\u044B\u0442\u043E\u043A: " + "\ufffd#7\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#7\ufffd" + ""," Retake the test " + "\ufffd#5\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#5\ufffd" + "",[1,"quiz-final-result__failed-questions"],[3,"failedQuestions",4,"ngIf"],[3,"failedQuestions"]]},template:function(t,e){1&t&&(o.Ub(0,"jr-quiz-widget-content",0),o.Sb(1,1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.Pb(4,"jr-quiz-result-card",4),o.Tb(),o.Oc(5,De,17,9,"div",5),o.Oc(6,$e,2,1,"div",6),o.Tb(),o.Rb(),o.Tb()),2&t&&(o.uc("centered",e.quiz.type===e.QuizType.QUIZ),o.zb(4),o.uc("mode",e.quiz.type===e.QuizType.QUIZ?"quiz":"test")("isCorrect",e.quiz.userQuizInfo.resultStatus),o.zb(1),o.uc("ngIf",e.quiz.type!==e.QuizType.QUIZ),o.zb(1),o.uc("ngIf",e.quiz.type!==e.QuizType.QUIZ))},directives:[Qt,wt,Te,n.m,O.a,Re],styles:["[_nghost-%COMP%]{display:flex;width:100%}.quiz-final-result__card[_ngcontent-%COMP%]{display:flex;margin-top:15px;margin-bottom:35px;justify-content:center}.quiz-final-result__info[_ngcontent-%COMP%]{margin-bottom:50px;display:flex;justify-content:center}.quiz-final-result__failed-questions[_ngcontent-%COMP%]{margin-bottom:33px}.quiz-final-result__failed-questions[_ngcontent-%COMP%]:last-child{margin-bottom:0}.quiz-result-info[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.quiz-result-info__list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.quiz-result-info__item[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:8px;flex-wrap:nowrap;align-items:center;line-height:1}.quiz-result-info__item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.quiz-result-info__icon[_ngcontent-%COMP%]{display:inline-flex;width:1em;height:1em;margin-right:10px;justify-content:center;align-items:center;font-size:36px}.quiz-result-info__icon[_ngcontent-%COMP%]     .icon--task-attempts, .quiz-result-info__icon[_ngcontent-%COMP%]     .icon--task-attempts-dark{font-size:28px}.quiz-result-info__icon[_ngcontent-%COMP%]     .icon--task-retry{font-size:26px}.quiz-result-info__icon--light[_ngcontent-%COMP%]{display:none}.quiz-result-info__label[_ngcontent-%COMP%]{font-size:18px}.light[_nghost-%COMP%]   .quiz-result-info__icon--dark[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-result-info__icon--dark[_ngcontent-%COMP%]{display:none}.light[_nghost-%COMP%]   .quiz-result-info__icon--light[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-result-info__icon--light[_ngcontent-%COMP%]{display:inline-flex}"],changeDetection:0}),t}(),Ye=["container"];function Ke(t,e){if(1&t&&o.Pb(0,"jr-quiz-progress",12),2&t){var i=o.mc();o.uc("questionsState",i.questionsState)}}function Ge(t,e){if(1&t&&o.Pb(0,"jr-quiz-question",13),2&t){var i=o.mc();o.uc("quiz",i.currentQuiz)("questionsState",i.questionsState)}}function Je(t,e){if(1&t&&o.Pb(0,"jr-question-result",14),2&t){var i=o.mc();o.uc("submitResults",i.questionResults)}}function ti(t,e){if(1&t&&o.Pb(0,"jr-quiz-result",13),2&t){var i=o.mc();o.uc("quiz",i.currentQuiz)("questionsState",i.questionsState)}}var ei=function(t){return{name:t}},ii=function(){function t(t,e,i){this.logger=t,this.cdr=e,this.quizClientService=i,this.onComplete=new o.n,this.onMaximized=new o.n,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnInit=function(){var t=this;this.quizClientService.initQuizClient(this.quiz,this.quizQuestions),this.quizClientService.quiz$.subscribe(function(e){t.currentQuiz=e,t.cdr.markForCheck()}),this.quizClientService.questionsState$.subscribe(function(e){t.questionsState=e,t.cdr.markForCheck()}),this.quizClientService.questionResult$.subscribe(function(e){t.questionResults=e,t.questionResultIsShown=e&&null!==e[0].isCorrect,t.cdr.markForCheck()}),this.quizClientService.showQuizResult$.subscribe(function(e){t.quizResultIsShown=e,t.onComplete.emit(),t.cdr.markForCheck()}),this.quizClientService.quizWidgetMaximizedStatus$.subscribe(function(e){t.onMaximized.emit(e),t.isMaximized=e,t.cdr.markForCheck()})},t.prototype.toggleMaximizedStatus=function(){this.quizClientService.toggleMaximizedStatus()},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(o.h),o.Ob(ht))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz-client"]],viewQuery:function(t,e){var i;1&t&&o.Uc(Ye,3),2&t&&o.Dc(i=o.jc())&&(e.container=i.first)},inputs:{quiz:"quiz",quizQuestions:"quizQuestions"},outputs:{onComplete:"onComplete",onMaximized:"onMaximized"},features:[o.yb([ht])],decls:13,vars:9,consts:[[1,"quiz-widget",3,"jrMaximized"],["container",""],[1,"quiz-widget__inner"],[1,"quiz-widget__toolbar"],[3,"questionsState",4,"ngIf"],[1,"quiz-widget__toggle-maximize"],[1,"quiz-widget-maximize-button",3,"title","click"],[3,"icon"],[1,"quiz-widget__body"],[1,"quiz-widget__content"],[3,"quiz","questionsState",4,"ngIf"],[3,"submitResults",4,"ngIf"],[3,"questionsState"],[3,"quiz","questionsState"],[3,"submitResults"]],template:function(t,e){1&t&&(o.Ub(0,"div",0,1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.Oc(4,Ke,1,1,"jr-quiz-progress",4),o.Ub(5,"div",5),o.Ub(6,"button",6),o.ic("click",function(){return e.toggleMaximizedStatus()}),o.Pb(7,"jr-icon",7),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"div",8),o.Ub(9,"div",9),o.Oc(10,Ge,1,2,"jr-quiz-question",10),o.Oc(11,Je,1,1,"jr-question-result",11),o.Oc(12,ti,1,2,"jr-quiz-result",10),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.uc("jrMaximized",e.isMaximized),o.zb(4),o.uc("ngIf",!e.quizResultIsShown),o.zb(2),o.vc("title",e.isMaximized?"Minimize":"Maximize"),o.zb(1),o.uc("icon",o.yc(7,ei,e.isMaximized?"maximize-off":"maximize-on")),o.zb(3),o.uc("ngIf",!e.questionResultIsShown&&!e.quizResultIsShown),o.zb(1),o.uc("ngIf",e.questionResultIsShown),o.zb(1),o.uc("ngIf",e.quizResultIsShown))},directives:[qt.a,n.m,O.a,Ct,de,ye,Ze],styles:["[_nghost-%COMP%]{display:block;--card-border-radius:15px}.quiz-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;height:98vh;max-height:800px;border-radius:var(--card-border-radius);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (min-width:992px){.quiz-widget[_ngcontent-%COMP%]{height:700px;max-height:98vh}}@media (min-width:1200px){.quiz-widget[_ngcontent-%COMP%]{height:750px}}@media (min-width:1200px) and (min-height:900px){.quiz-widget[_ngcontent-%COMP%]{height:800px}}.quiz-widget.maximized-container[_ngcontent-%COMP%]{border-radius:0}.quiz-widget__inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;max-height:100%}.quiz-widget--full[_ngcontent-%COMP%]{overflow:visible;display:block;max-height:none!important;min-height:0!important}.quiz-widget--full[_ngcontent-%COMP%]   .quiz-widget__inner[_ngcontent-%COMP%]{overflow:hidden;position:fixed;z-index:9999;left:0;right:0;top:0;bottom:0;width:100%;max-height:none}.quiz-widget__toolbar[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:52px;padding:17px 100px 17px 40px;align-items:center;flex:none;color:#fff;background:#264c66}.quiz-widget__body[_ngcontent-%COMP%]{display:flex;width:100%;padding:6px;flex:1;min-height:0;background:#000}@media (min-width:576px){.quiz-widget__body[_ngcontent-%COMP%]{padding:9px}}.quiz-widget__content[_ngcontent-%COMP%]{display:flex;width:100%;background:#2b2b2b;border-radius:10px;border:1px solid transparent}.quiz-widget-maximize-button[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;width:52px;height:52px;padding:0;line-height:1;text-align:center;font-size:14px;color:hsla(0,0%,100%,.5);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:none;box-shadow:none;border-radius:2px;transition:all .15s}.quiz-widget-maximize-button[_ngcontent-%COMP%]:focus, .quiz-widget-maximize-button[_ngcontent-%COMP%]:hover{color:#fff;background:#21435a}.quiz-widget-maximize-button[_ngcontent-%COMP%]:active, .quiz-widget-maximize-button[_ngcontent-%COMP%]:focus{outline:none}.quiz-widget-maximize-button[_ngcontent-%COMP%]:active{background:#204056}.light[_nghost-%COMP%]   .quiz-widget__toolbar[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-widget__toolbar[_ngcontent-%COMP%]{background:#2d6494}.light[_nghost-%COMP%]   .quiz-widget__body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-widget__body[_ngcontent-%COMP%]{background:#c4ccd6}.light[_nghost-%COMP%]   .quiz-widget__content[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .quiz-widget__content[_ngcontent-%COMP%]{background:#fff;border-color:#adb6c4}.light[_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:focus, .light   [_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:focus, .light[_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:hover{background:#245685}.light[_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .quiz-widget-maximize-button[_ngcontent-%COMP%]:active{background:#1a4676}"],changeDetection:0}),t}(),ni=i("oO/G");function oi(t,e){if(1&t){var i=o.Vb();o.Ub(0,"jr-quiz-cover",5),o.ic("onOpen",function(){return o.Hc(i),o.mc(2).openAndStartQuiz()}),o.Tb()}if(2&t){var n=o.mc(2);o.uc("quiz",n.quiz)}}function si(t,e){if(1&t){var i=o.Vb();o.Ub(0,"jr-quiz-client",6),o.ic("onComplete",function(){return o.Hc(i),o.mc(2).completeQuiz()})("onMaximized",function(t){return o.Hc(i),o.mc(2).isQuizMaximized(t)}),o.Tb()}if(2&t){var n=o.mc(2);o.uc("quiz",n.quiz)("quizQuestions",n.quizQuestions)}}function ui(t,e){if(1&t&&(o.Ub(0,"div",2),o.Oc(1,oi,1,1,"jr-quiz-cover",3),o.Oc(2,si,1,2,"jr-quiz-client",4),o.Tb()),2&t){var i=o.mc();o.zb(1),o.uc("ngIf",i.showCover),o.zb(1),o.uc("ngIf",!i.showCover&&i.quizQuestions.length>0)}}function ri(t,e){1&t&&o.Pb(0,"jr-loader")}var ci=function(){function t(t,e,i,n,s,u,r){this.logger=t,this.platformId=e,this.document=i,this.cdr=n,this.elementRef=s,this.quizBackendClient=u,this.quizExceptionService=r,this.showCover=!0,this.onComplete=new o.n,this.onMaximized=new o.n,this.quizQuestions=[],this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnInit=function(){var t=this;Object(n.x)(this.platformId)&&(this.key?this.updateQuizInfo().subscribe(function(){t.showCover||t.openAndStartQuiz(),t.cdr.markForCheck()}):this.quiz&&(this.showCover||this.openAndStartQuiz()))},t.prototype.updateQuizInfo=function(){var t=this;return this.quizBackendClient.loadQuiz(this.key).pipe(Object(s.a)(function(e){return t.quizExceptionService.handleRequestErrorInfo(e,"Error while getting test data"),a.a}),Object(u.a)(function(e){t.logger.info("Loaded quiz info for quiz "+t.key,e),t.quiz=e}),Object(r.a)(function(){}))},t.prototype.openAndStartQuiz=function(){this.quiz.visibilityStatus===d.a.PUBLIC?this.runPublishedQuizBehaviour():this.runNotPublishedQuizBehaviour()},t.prototype.syncHeightWithParent=function(){var t=window.frameElement;t&&(document.body.style.overflowY="hidden",this.lastWindowHeight!==this.elementRef.nativeElement.scrollHeight&&(this.lastWindowHeight=this.elementRef.nativeElement.scrollHeight,t.style.height=this.lastWindowHeight+"px"))},t.prototype.completeQuiz=function(){this.onComplete.emit()},t.prototype.isQuizMaximized=function(t){this.onMaximized.emit(t)},t.prototype.runPublishedQuizBehaviour=function(){var t=this;this.quizBackendClient.startQuiz(this.quiz.key).pipe(Object(u.a)(function(e){t.logger.info("\u0417\u0430\u043f\u0443\u0449\u0435\u043d \u043e\u043f\u0440\u043e\u0441 "+e.title),t.quiz=e}),Object(c.a)(function(){return t.quizBackendClient.loadQuizQuestions(t.quiz.id.toString())})).subscribe(function(e){t.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",e),t.quizQuestions=e,t.showCover=!1,t.cdr.markForCheck()},function(e){t.quizExceptionService.handleRequestErrorInfo(e)})},t.prototype.runNotPublishedQuizBehaviour=function(){var t=this;this.quizBackendClient.loadQuizQuestions(this.quiz.key).subscribe(function(e){t.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",e),t.quizQuestions=e,t.showCover=!1,t.cdr.markForCheck(),Object(n.x)(t.platformId)&&setTimeout(function(){t.syncHeightWithParent()},200)},function(e){t.quizExceptionService.handleRequestErrorInfo(e)})},t.\u0275fac=function(e){return new(e||t)(o.Ob(l.a),o.Ob(o.C),o.Ob(n.e),o.Ob(o.h),o.Ob(o.l),o.Ob(b.a),o.Ob(f.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["jr-quiz"]],inputs:{key:"key",quiz:"quiz",showCover:"showCover"},outputs:{onComplete:"onComplete",onMaximized:"onMaximized"},decls:3,vars:2,consts:[["class","jr-quiz",4,"ngIf","ngIfElse"],["loading",""],[1,"jr-quiz"],[3,"quiz","onOpen",4,"ngIf"],[3,"quiz","quizQuestions","onComplete","onMaximized",4,"ngIf"],[3,"quiz","onOpen"],[3,"quiz","quizQuestions","onComplete","onMaximized"]],template:function(t,e){if(1&t&&(o.Oc(0,ui,3,2,"div",0),o.Oc(1,ri,1,0,"ng-template",null,1,o.Pc)),2&t){var i=o.Ec(2);o.uc("ngIf",e.quiz)("ngIfElse",i)}},directives:[n.m,ot,ii,ni.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),t}()},kMlh:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.prototype.clone=function(){return Object.assign({},this)},t}()},ldGn:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("ofXK"),o=i("fXoL"),s=i("gFDQ"),u=i("Az2F"),r=function(){function t(t,e,i,n,o){this.logger=t,this.element=e,this.platformId=i,this.renderer=n,this.layoutManipulationService=o,this.logger.debug(this.constructor.name+" is created.")}return t.prototype.ngOnChanges=function(t){this.toggleMaximizedStatus(this.maximizedStatus)},t.prototype.toggleMaximizedStatus=function(t){Object(n.x)(this.platformId)&&(this.isMaximized=t,this.isMaximized?(this.addSpaceholderContainer(this.element.nativeElement.offsetHeight+"px"),this.layoutManipulationService.handleMaximizeOn(this.element.nativeElement)):(this.removeSpaceholderContainer(),this.layoutManipulationService.handleMaximizeOff(this.element.nativeElement)))},t.prototype.addSpaceholderContainer=function(t){this.spaceholderElement=this.renderer.createElement("div"),this.spaceholderElement.style.height=t,this.parentElement=this.element.nativeElement.parentNode,this.renderer.appendChild(this.parentElement,this.spaceholderElement)},t.prototype.removeSpaceholderContainer=function(){this.parentElement&&this.spaceholderElement&&this.renderer.removeChild(this.parentElement,this.spaceholderElement)},t.prototype.ngOnDestroy=function(){this.toggleMaximizedStatus(!1)},t.\u0275fac=function(e){return new(e||t)(o.Ob(s.a),o.Ob(o.l),o.Ob(o.C),o.Ob(o.E),o.Ob(u.a))},t.\u0275dir=o.Jb({type:t,selectors:[["","jrMaximized",""]],hostVars:2,hostBindings:function(t,e){2&t&&o.Gb("maximized-container",e.isMaximized)},inputs:{maximizedStatus:["jrMaximized","maximizedStatus"]},features:[o.xb]}),t}()}}]);