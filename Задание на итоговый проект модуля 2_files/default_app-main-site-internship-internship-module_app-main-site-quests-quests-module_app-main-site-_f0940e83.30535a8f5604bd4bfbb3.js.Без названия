(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"3N1d":function(e,t,i){"use strict";i.d(t,"a",function(){return y});var a=i("WRmL"),n=i("ofXK"),o=i("tk/3"),s=i("o3/v"),r=i("gzMh"),c=i("HWbA"),u=i("fXoL"),d=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({providers:[s.a,r.a],imports:[[n.c,o.d,o.c,c.a]]}),e}(),l=i("TlWY"),p=i("stMD"),f=i("L8/i"),g=i("yMRO"),b=i("Meho"),h=i("KmI2"),m=i("pcB3"),v=i("1Y/1"),k=i("ziUy"),y=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({providers:[a.a],imports:[[n.c,p.WebideModule,d,l.a,f.a,c.a,g.a,b.a,h.a,m.a,v.a,k.a]]}),e}()},"5GnC":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("ofXK"),n=i("qe4C"),o=i("L8l6"),s=i("fXoL"),r=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({}),e}(),c=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({imports:[[a.c,n.a,o.a,r]]}),e}()},"67Oj":function(e,t,i){"use strict";i.d(t,"a",function(){return m});var a,n,o,s,r,c,u,d=i("mrSG"),l=i("1gzX"),p=[{key:l.a.TYPING,displayName:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043D\u0430 \u043D\u0430\u0431\u043E\u0440 \u043A\u043E\u0434\u0430",icon:{name:"type-text",sprite:"task"}},{key:l.a.PRACTIC,displayName:"\u041F\u0440\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435",icon:{name:"type-practice",sprite:"task"}},{key:l.a.HOMEWORK,displayName:"\u0414\u043E\u043C\u0430\u0448\u043D\u0435\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435",icon:{name:"type-homework",sprite:"task"}},{key:l.a.BONUS,displayName:"\u0411\u043E\u043D\u0443\u0441\u043D\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435",icon:{name:"type-bonus",sprite:"task"}},{key:l.a.BIG_PROJECT,displayName:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043F\u0440\u043E\u0435\u043A\u0442\u0430",icon:{name:"type-project",sprite:"task"}},{key:l.a.VIDEO,displayName:"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0432\u0438\u0434\u0435\u043E",icon:{name:"type-video",sprite:"task"}},{key:l.a.PAIR_WORK,displayName:"\u041F\u0430\u0440\u043D\u043E\u0435 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",icon:{name:"type-practice",sprite:"task"}}],f=i("gBz2"),g=i("fXoL"),b=i("gFDQ"),h=i("aP+G"),m=function(){function e(e){this.logger=e,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngOnInit=function(){var e;this.displayName=(e=this.taskType,Object(f.a)(p,e)),this.icon=function(e){return function(e,t){return e.find(function(e){return e.key===t}).icon}(p,e)}(this.taskType)},e.\u0275fac=function(t){return new(t||e)(g.Ob(b.a))},e.\u0275cmp=g.Ib({type:e,selectors:[["jr-task-type"]],inputs:{taskType:"taskType"},decls:1,vars:2,consts:[[3,"icon","title"]],template:function(e,t){1&e&&g.Pb(0,"jr-icon",0),2&e&&(g.vc("title",t.displayName),g.uc("icon",t.icon))},directives:[h.a],styles:["[_nghost-%COMP%]{display:flex;color:var(--task-type-color,#6c7175);font-size:var(--task-type-font-size,22px)}.light[_nghost-%COMP%], .light   [_nghost-%COMP%]{--task-type-color:#939eaf}"],changeDetection:0}),e}()},G6pk:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("dOHA"),n=i("fXoL"),o=i("CQiu"),s=i("gFDQ"),r=function(){function e(e,t){this.http=e,this.logger=t,this.TASK_URL_PATH="/tasks/task{key}/validations/complete",this.logger.debug(this.constructor.name+" is created.")}return e.prototype.completeTask=function(e){var t=a.a.apiUrl+this.TASK_URL_PATH.replace(/{key}/,e);return this.http.post(t,{files:[]})},e.\u0275fac=function(t){return new(t||e)(n.fc(o.a),n.fc(s.a))},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac}),e}()},IDRi:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("fXoL"),n=function(){function e(e){this.element=e,this.autosize=!0,this.times=3}return e.prototype.onInput=function(){this.adjust()},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){return e.adjust()})},e.prototype.ngAfterViewInit=function(){this.initialHeight=this.element.nativeElement.scrollHeight+2,this.maxHeight=this.initialHeight*this.times},e.prototype.ngAfterContentChecked=function(){var e=this;setTimeout(function(){return e.adjust()})},e.prototype.adjust=function(){if(this.autosize){var e=this.element.nativeElement.scrollHeight;e>=this.maxHeight||this.lastHeight!==e&&(this.element.nativeElement.style.height=e+2*this.element.nativeElement.clientTop+"px",this.lastHeight=e)}},e.prototype.reset=function(){this.element.nativeElement.style.height=this.initialHeight+"px"},e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l))},e.\u0275dir=a.Jb({type:e,selectors:[["textarea","jrAutosize",""]],hostBindings:function(e,t){1&e&&a.ic("input",function(){return t.onInput()})},inputs:{autosize:["jrAutosize","autosize"],times:["jrAutoSizeIncreaseOriginalMaxTimes","times"]}}),e}()},KmI2:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("ofXK"),n=i("hX8e"),o=i("fXoL"),s=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({imports:[[a.c,n.a]]}),e}()},L8l6:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("IbhP"),n=i("fXoL"),o=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Mb({type:e}),e.\u0275inj=n.Lb({providers:[a.a]}),e}()},PVGa:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var a=function(e){return e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e.FUTURE="FUTURE",e}({});!function(e){e.values=function(){return t.map(function(e){return e.value})},e.getCssClass=function(e){var i=t.find(function(t){return t.value===e});return i?i.cssClass:""},e.getIcon=function(e){var i=t.find(function(t){return t.value===e});return i?i.icon:{name:"complexity-label-medium",sprite:"task"}};var t=[{value:e.EASY,cssClass:"easy",icon:{name:"complexity-label-easy",sprite:"task"}},{value:e.MEDIUM,cssClass:"medium",icon:{name:"complexity-label-medium",sprite:"task"}},{value:e.HARD,cssClass:"hard",icon:{name:"complexity-label-hard",sprite:"task"}},{value:e.FUTURE,cssClass:"epic",icon:{name:"complexity-label-epic",sprite:"task"}}]}(a||(a={}))},TlWY:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("G6pk"),n=i("ofXK"),o=i("fXoL"),s=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({providers:[a.a],imports:[[n.c]]}),e}()},WRmL:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("dOHA"),n=i("fXoL"),o=i("gFDQ"),s=i("CQiu"),r=function(){function e(e,t){this.logger=e,this.httpClient=t,this.TASK_URL_PATH="/tasks/task{kid}",this.logger.debug(this.constructor.name+" is created.")}return e.prototype.loadTaskInfo=function(e){var t=a.a.apiUrl+this.TASK_URL_PATH.replace(/{kid}/,e);return this.httpClient.get(t)},e.\u0275fac=function(t){return new(t||e)(n.fc(o.a),n.fc(s.a))},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac}),e}()},Z4c4:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("uxAw"),n=function(e){return e.UNKNOWN="UNKNOWN",e.DARK_MASTER="DARK_MASTER",e.DARK_GRANDMASTER="DARK_GRANDMASTER",e.DAVID_MALAN="DAVID_MALAN",e.KATHERINE_KUAN="KATHERINE_KUAN",e.KUNAL_CHAWLA="KUNAL_CHAWLA",e.LYLA_FUJIWARA="LYLA_FUJIWARA",e.MARIA_ZLATKOVA="MARIA_ZLATKOVA",e.ROBERT_BOWDEN="ROBERT_BOWDEN",e.SCASS="SCASS",e.AMIGO="AMIGO",e.PROFESSOR="PROFESSOR",e.ZAPP="ZAPP",e.ZOIDBERG="ZOIDBERG",e.LEELA="LEELA",e.ELLY="ELLY",e.BENDER="BENDER",e.DIEGO="DIEGO",e.HERMES="HERMES",e.RISHA="RISHA",e.FRY="FRY",e.JULIO="JULIO",e.EMY="EMY",e.KIM="KIM",e}({});!function(e){e.values=function(){return t.map(function(e){return e.value})},e.getDisplayName=function(e){var i=t.find(function(t){return t.value===e});return i?i.displayName:""},e.getAvatarUrl=function(e){var i=t.find(function(t){return t.value===e});return i?a.a.getPublicServerAddress()+i.avatarPath:""};var t=[{value:e.UNKNOWN,displayName:"professor",avatarPath:"/assets/images/site/avatars/professor.png"},{value:e.PROFESSOR,displayName:"professor",avatarPath:"/assets/images/site/avatars/professor.png"},{value:e.LEELA,displayName:"elly",avatarPath:"/assets/images/site/avatars/elly.png"},{value:e.ELLY,displayName:"elly",avatarPath:"/assets/images/site/avatars/elly.png"},{value:e.BENDER,displayName:"diego",avatarPath:"/assets/images/site/avatars/diego.png"},{value:e.DIEGO,displayName:"diego",avatarPath:"/assets/images/site/avatars/diego.png"},{value:e.HERMES,displayName:"risha",avatarPath:"/assets/images/site/avatars/risha.png"},{value:e.RISHA,displayName:"risha",avatarPath:"/assets/images/site/avatars/risha.png"},{value:e.ZOIDBERG,displayName:"zoidberg",avatarPath:"/assets/images/site/avatars/zoidberg.png"},{value:e.FRY,displayName:"julio",avatarPath:"/assets/images/site/avatars/julio.png"},{value:e.JULIO,displayName:"julio",avatarPath:"/assets/images/site/avatars/julio.png"},{value:e.ZAPP,displayName:"zapp",avatarPath:"/assets/images/site/avatars/zapp.png"},{value:e.EMY,displayName:"kim",avatarPath:"/assets/images/site/avatars/kim.png"},{value:e.KIM,displayName:"kim",avatarPath:"/assets/images/site/avatars/kim.png"},{value:e.AMIGO,displayName:"amigo",avatarPath:"/assets/images/site/avatars/amigo.png"},{value:e.DARK_MASTER,displayName:"professor",avatarPath:"/assets/images/site/avatars/professor.png"},{value:e.DARK_GRANDMASTER,displayName:"professor",avatarPath:"/assets/images/site/avatars/professor.png"},{value:e.DAVID_MALAN,displayName:"david_malan",avatarPath:"/assets/images/site/avatars/david_malan.png"},{value:e.MARIA_ZLATKOVA,displayName:"maria_zlatkova",avatarPath:"/assets/images/site/avatars/maria_zlatkova.png"},{value:e.ROBERT_BOWDEN,displayName:"robert_bowden",avatarPath:"/assets/images/site/avatars/robert_bowden.png"},{value:e.SCASS,displayName:"scass",avatarPath:"/assets/images/site/avatars/scass.png"},{value:e.KATHERINE_KUAN,displayName:"katherine_kuan",avatarPath:"/assets/images/site/avatars/katherine_kuan.png"},{value:e.KUNAL_CHAWLA,displayName:"kunal_chawla",avatarPath:"/assets/images/site/avatars/kunal_chawla.png"},{value:e.LYLA_FUJIWARA,displayName:"lyla_fujiwara",avatarPath:"/assets/images/site/avatars/lyla_fujiwara.png"}]}(n||(n={}))},gzMh:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("dOHA"),n=i("fXoL"),o=i("CQiu"),s=i("gFDQ"),r=function(){function e(e,t){this.http=e,this.logger=t,this.TASK_TEMPLATE_URL="/tasks/task{taskKey}/template",this.TASK_TEMPLATE_URL_SUCCESS="/tasks/task{taskKey}/validations/complete",this.logger.debug(this.constructor.name+" is created.")}return e.prototype.completeTask=function(e){var t=a.a.apiUrl+this.TASK_TEMPLATE_URL_SUCCESS.replace(/{taskKey}/,e);return this.http.post(t,{files:[]})},e.prototype.fetchTaskTemplateData=function(e){var t=a.a.apiUrl+this.TASK_TEMPLATE_URL.replace(/{taskKey}/,e);return this.http.get(t)},e.\u0275fac=function(t){return new(t||e)(n.fc(o.a),n.fc(s.a))},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac}),e}()},ndA4:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("RCnT");function n(e){switch(e){case a.a.ASSIGNED:case a.a.IN_PROGRESS:case a.a.SOLVED:case a.a.SOLVED_FINAL:case a.a.RESTRICTED:return!0;default:return!1}}},"o3/v":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("fXoL"),n=i("gFDQ"),o=function(){function e(e){this.logger=e,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.validateTypings=function(e,t){var i=this.getCanonicalString(e),a=this.getCanonicalString(t),n=!1,o=!1;return a.length&&(o=0===i.indexOf(a)),i===a&&(n=!0),{isUserCodeRight:o,isSolved:n}},e.prototype.getCanonicalString=function(e){return null===e?null:(e=(e=(e=(e=(e=(e=(e=e.replace(new RegExp("\r","g")," ")).replace(new RegExp("\n","g")," ")).replace(new RegExp("\t","g")," ")).replace(new RegExp("     ","g")," ")).replace(new RegExp("    ","g")," ")).replace(new RegExp("   ","g")," ")).replace(new RegExp("  ","g")," ")).trim()},e.\u0275fac=function(t){return new(t||e)(a.fc(n.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e}()},oTrL:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a,n=i("mrSG"),o=i("oRgB"),s=i("gBz2"),r=i("srS4"),c=i("fXoL"),u=i("gFDQ"),d=i("kKnu"),l=function(){function e(e){this.logger=e,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngOnInit=function(){var e;this.badge=(e=this.status,Object(o.a)(r.a,e)),this.displayName=null!==this.premiumRequired?"Premium":function(e){return Object(s.a)(r.a,e)}(this.status)},e.\u0275fac=function(t){return new(t||e)(c.Ob(u.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["jr-task-status"]],inputs:{status:"status",premiumRequired:"premiumRequired"},decls:1,vars:2,consts:[[3,"displayName","badge"]],template:function(e,t){1&e&&c.Pb(0,"jr-badge",0),2&e&&c.uc("displayName",t.displayName)("badge",t.badge)},directives:[d.a],styles:["[_nghost-%COMP%]{display:inline-flex;justify-content:center}"],changeDetection:0}),e}()},qe4C:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("fXoL"),n=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({}),e}()},srS4:function(e,t,i){"use strict";i.d(t,"a",function(){return g});var a,n,o,s,r,c,u,d,l=i("mrSG"),p=i("RCnT"),f=i("llz9"),g=[{key:p.a.UNKNOWN,displayName:"\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430",badge:f.a.RED_OUTLINED},{key:p.a.ASSIGNED,displayName:"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u0430",badge:f.a.GREEN},{key:p.a.IN_PROGRESS,displayName:"\u0412 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u0435",badge:f.a.BLUE_GRADIENT},{key:p.a.SOLVED,displayName:"\u0420\u0435\u0448\u0435\u043D\u0430",badge:f.a.BLUE},{key:p.a.SOLVED_FINAL,displayName:"\u0417\u0430\u043A\u0440\u044B\u0442\u0430",badge:f.a.GRAY_OUTLINED},{key:p.a.PREASSIGNED,displayName:"\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430",badge:f.a.RED_OUTLINED},{key:p.a.RESTRICTED,displayName:"\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430",badge:f.a.RED_OUTLINED},{key:p.a.DISABLED,displayName:"\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430",badge:f.a.RED_OUTLINED}]},vuVL:function(e,t,i){"use strict";i.d(t,"a",function(){return ze});var a=i("fXoL"),n=i("RCnT"),o=i("1gzX"),s=i("ouWf"),r=i("XNiG"),c=i("EY2u"),u=i("1G5W"),d=i("JIr8"),l=i("vkgz"),p=i("lJxs"),f=i("o0sG"),g=i("ndA4"),b=i("gFDQ"),h=i("Dy+N"),m=i("oilu"),v=i("Ivwj"),k=i("WRmL"),y=i("ofXK"),T=i("dz1t"),S=i("FYqI"),O=i("J66h"),_=i("3E0/"),C=i("tyNb"),w=i("o3/v"),I=i("gzMh"),E=i("+BlI"),P=i("GXOz"),A=i("aP+G"),R=["exampleEditorDomNode"],L=["userEditorDomNode"],M=function(){return{name:"keyboard",sprite:"typing-widget"}},x=function(e){return{"typing-panel__editor--wrong":e}},N=function(){function e(e,t,i,n,o,s,r,c,u,d){this.logger=e,this.cdRef=t,this.route=i,this.typingService=n,this.typingBackendService=o,this.toastService=s,this.exceptionService=r,this.dayNightService=c,this.meProfileService=u,this.platformId=d,this.isUserTextCorrect=null,this.completeTaskRequestInProgress=!1,this.onClose=new a.n,this.onTaskSolved=new a.n,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngOnChanges=function(){var e=this;Object(y.x)(this.platformId)&&(this.exampleEditor||(this.exampleEditor=new T.a(this.exampleEditorDomNode.nativeElement,!0,!0,this.dayNightService.lightTheme$)),this.userEditor||(this.userEditor=new T.a(this.userEditorDomNode.nativeElement,!1,null,this.dayNightService.lightTheme$,!0)),this.typingBackendService.fetchTaskTemplateData(this.taskKey).pipe(Object(d.a)(function(t){return e.exceptionService.handleRequestErrorInfo(t),c.a})).subscribe(function(t){e.logger.info("Task template was loaded",t);var i=O.Base64.decode(t.files[0].content);e.exampleEditor.createNewEditSession(1,i,S.a.JAVA),e.exampleEditor.openEditSession(1),e.userEditor.createNewEditSession(1,"",S.a.JAVA,function(t){e.onChangeUserInput(t),e.cdRef.markForCheck()}),e.userEditor.openEditSession(1),e.cdRef.markForCheck()}))},e.prototype.onChangeUserInput=function(e){var t=this,i=this.exampleEditor.getTextOfActiveSession(),a=this.typingService.validateTypings(i,e);this.isUserTextCorrect=a.isUserCodeRight,a.isUserCodeRight&&a.isSolved&&!this.completeTaskRequestInProgress&&(this.completeTaskRequestInProgress=!0,this.typingBackendService.completeTask(this.taskKey).pipe(Object(_.a)(1e3)).subscribe(function(e){t.logger.info("Task was completed successfully",e);var i=e.rewardDarkMatter;i&&i>0&&(t.onTaskSolved.emit(),t.toastService.showNotificationAboutAddingBlackMatter(i)),t.meProfileService.updateAuthProfile().subscribe(),t.onClose.emit()},function(e){t.exceptionService.handleRequestErrorInfo(e)},function(){t.completeTaskRequestInProgress=!1}))},e.prototype.ngOnDestroy=function(){this.exampleEditor&&this.exampleEditor.destroy(),this.userEditor&&this.userEditor.destroy()},e.\u0275fac=function(t){return new(t||e)(a.Ob(b.a),a.Ob(a.h),a.Ob(C.a),a.Ob(w.a),a.Ob(I.a),a.Ob(E.a),a.Ob(m.a),a.Ob(P.a),a.Ob(h.a),a.Ob(a.C))},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-typing-main"]],viewQuery:function(e,t){if(1&e&&(a.Uc(R,3),a.Uc(L,3)),2&e){var i=void 0;a.Dc(i=a.jc())&&(t.exampleEditorDomNode=i.first),a.Dc(i=a.jc())&&(t.userEditorDomNode=i.first)}},inputs:{taskKey:"taskKey"},outputs:{onClose:"onClose",onTaskSolved:"onTaskSolved"},features:[a.xb],decls:16,vars:5,consts:[[1,"typing-widget"],[1,"typing-widget__inner"],[1,"typing-widget__keyboard-icon"],[3,"icon"],[1,"typing-widget__panel"],[1,"typing-panel"],[1,"typing-panel__title","typing-panel__title--example"],[1,"typing-panel__editor"],["exampleEditorDomNode",""],[1,"typing-panel__title","typing-panel__title--user"],[1,"typing-panel__editor",3,"ngClass"],["userEditorDomNode",""]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Pb(3,"jr-icon",3),a.Tb(),a.Ub(4,"div",4),a.Ub(5,"div",5),a.Ub(6,"div",6),a.Qc(7,"Repeat the following code:"),a.Tb(),a.Pb(8,"div",7,8),a.Tb(),a.Tb(),a.Ub(10,"div",4),a.Ub(11,"div",5),a.Ub(12,"div",9),a.Qc(13,"Your code:"),a.Tb(),a.Pb(14,"div",10,11),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.zb(3),a.uc("icon",a.xc(2,M)),a.zb(11),a.uc("ngClass",a.yc(3,x,!1===t.isUserTextCorrect)))},directives:[A.a,y.k],styles:["[_nghost-%COMP%]{width:100%;display:block}.typing-panel__title[_ngcontent-%COMP%]{margin-top:-2px;margin-bottom:5px;line-height:1.33;font-size:15px}@media (min-width:375px){.typing-panel__title[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:576px){.typing-panel__title[_ngcontent-%COMP%]{font-size:18px}}@media (min-width:768px){.typing-panel__title[_ngcontent-%COMP%]{font-size:19px;font-weight:600;margin-bottom:8px}}@media (min-width:992px){.typing-panel__title[_ngcontent-%COMP%]{font-size:21px}}.typing-panel__title--example[_ngcontent-%COMP%]{color:#ff7337}.typing-panel__title--user[_ngcontent-%COMP%]{color:#40ab47}.typing-panel__editor[_ngcontent-%COMP%]{overflow:hidden;width:100%;min-height:250px;transition:all .1s linear;border-radius:2px}.typing-panel__editor--correct[_ngcontent-%COMP%]{background-color:rgba(144,238,144,.065);box-shadow:0 0 0 1px rgba(144,238,144,.3)}.typing-panel__editor--wrong[_ngcontent-%COMP%]{background-color:rgba(220,53,69,.1);box-shadow:0 0 0 1px rgba(220,53,69,.4)}.light[_nghost-%COMP%]   .typing-panel__editor[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .typing-panel__editor[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #d5dae2}.light[_nghost-%COMP%]   .typing-panel__editor--correct[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .typing-panel__editor--correct[_ngcontent-%COMP%]{background-color:rgba(144,238,144,.2);box-shadow:0 0 0 1px #90ee90}.light[_nghost-%COMP%]   .typing-panel__editor--wrong[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .typing-panel__editor--wrong[_ngcontent-%COMP%]{background-color:rgba(220,53,69,.1);box-shadow:0 0 0 1px rgba(220,53,69,.5)}.typing-widget[_ngcontent-%COMP%]{position:relative;width:100%;padding:15px;border:1px solid #636365;border-radius:3px}@media (min-width:576px){.typing-widget[_ngcontent-%COMP%]{padding:20px}}@media (min-width:768px){.typing-widget[_ngcontent-%COMP%]{padding:25px}}.typing-widget__keyboard-icon[_ngcontent-%COMP%]{display:none}@media (min-width:576px){.typing-widget__keyboard-icon[_ngcontent-%COMP%]{position:absolute;top:14px;right:20px;display:flex;font-size:24px;width:1em;height:1em}}@media (min-width:768px){.typing-widget__keyboard-icon[_ngcontent-%COMP%]{top:16px;right:25px;font-size:26px}}@media (min-width:992px){.typing-widget__keyboard-icon[_ngcontent-%COMP%]{top:17px;font-size:28px}}.typing-widget__inner[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap}.typing-widget__panel[_ngcontent-%COMP%]{margin-bottom:15px}@media (min-width:768px){.typing-widget__panel[_ngcontent-%COMP%]{margin-bottom:20px}}@media (min-width:992px){.typing-widget__panel[_ngcontent-%COMP%]{margin-bottom:25px}}.typing-widget__panel[_ngcontent-%COMP%]:last-child{margin-bottom:0}.light[_nghost-%COMP%]   .typing-widget[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .typing-widget[_ngcontent-%COMP%]{border-color:#d5dae2}"],changeDetection:0}),e}(),U=i("uxAw"),D=function(e){return e.YOUTUBE="YOUTUBE",e.CUSTOM="CUSTOM",e}({}),j=i("xgIS"),z=i("eIep"),K=i("G6pk"),V=["htmlVideoElement"];function H(e,t){if(1&e&&(a.Ub(0,"div",1),a.Pb(1,"video",2,3),a.Tb()),2&e){var i=a.mc();a.zb(1),a.uc("src",i.videoLink,a.Kc)("height",i.videoPlayerSize.height)("width",i.videoPlayerSize.width)}}var B=function(){function e(e,t,i,n,o){this.platformId=e,this.videoPlayerBackendClient=t,this.toastService=i,this.exceptionService=n,this.meProfileService=o,this.onClose=new a.n,this.onVideoTaskSolved=new a.n,this.videoPlayerSize={width:1080,height:608},this.isDestroyed$=new r.a}return e.prototype.ngAfterViewInit=function(){var e=this;Object(y.x)(this.platformId)&&Object(j.a)(this.htmlVideoElement.nativeElement,"ended").pipe(Object(u.a)(this.isDestroyed$)).subscribe(function(){return e.onVideoComplete()})},e.prototype.onVideoComplete=function(){var e=this;this.userStatus===n.a.ASSIGNED?this.videoPlayerBackendClient.completeTask(this.videoKey).pipe(Object(l.a)(function(t){e.onVideoTaskSolved.emit(),e.toastService.showNotificationAboutAddingBlackMatter(t.rewardDarkMatter)}),Object(z.a)(function(){return e.meProfileService.updateAuthProfile()}),Object(d.a)(function(t){return e.exceptionService.handleRequestErrorInfo(t,"Something went wrong while you were watching the video. You'll need to watch it again to get dark matter."),c.a})).subscribe(function(){return e.onClose.emit()}):this.onClose.emit()},e.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},e.\u0275fac=function(t){return new(t||e)(a.Ob(a.C),a.Ob(K.a),a.Ob(E.a),a.Ob(m.a),a.Ob(h.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-custom-video-player"]],viewQuery:function(e,t){var i;1&e&&a.Uc(V,1),2&e&&a.Dc(i=a.jc())&&(t.htmlVideoElement=i.first)},inputs:{videoLink:"videoLink",videoKey:"videoKey",userStatus:"userStatus"},outputs:{onClose:"onClose",onVideoTaskSolved:"onVideoTaskSolved"},decls:1,vars:1,consts:[["class","youku-video-player",4,"ngIf"],[1,"youku-video-player"],["controls","","preload","auto",3,"src","height","width"],["htmlVideoElement",""]],template:function(e,t){1&e&&a.Oc(0,H,3,3,"div",0),2&e&&a.uc("ngIf",t.videoLink)},directives:[y.m],encapsulation:2,changeDetection:0}),e}(),W=i("Vs1X"),G=function(){function e(e,t,i,n,o,s,r,c){this.toastService=e,this.videoPlayerBackendClient=t,this.zone=i,this.logger=n,this.platformId=o,this.exceptionService=s,this.meProfileService=r,this.scriptInjector=c,this.elementId="ytPlayer",this.youtubeUrl="https://www.youtube.com/iframe_api",this.autoplay=0,this.onClose=new a.n,this.onVideoTaskSolved=new a.n,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngAfterViewInit=function(){var e=this;Object(y.x)(this.platformId)&&this.scriptInjector.inject(this.youtubeUrl,"YT","Player").subscribe(function(){e.createPlayer()})},e.prototype.unloadPlayerApi=function(){var e=this;if(Object(y.x)(this.platformId)){var t=Array.from(document.querySelectorAll("script")).find(function(t){return t.src===e.youtubeUrl});t&&document.head.removeChild(t)}},e.prototype.createPlayer=function(){var e=this,t=this.extractVideoIdFromUrl(this.videoLink);return new YT.Player(this.elementId,{width:1080,height:608,videoId:t,playerVars:{rel:0,modestbranding:1,iv_load_policy:3,autoplay:this.autoplay},events:{onReady:function(t){e.zone.run(function(){return e.readyState(t.target)})},onStateChange:function(t){e.zone.run(function(){return e.changeState(t.data)})}}})},e.prototype.readyState=function(e){this.player=e},e.prototype.changeState=function(e){var t=this;e===YT.PlayerState.ENDED&&(this.userStatus===n.a.ASSIGNED?this.videoPlayerBackendClient.completeTask(this.videoKey).pipe(Object(l.a)(function(e){t.onVideoTaskSolved.emit(),t.toastService.showNotificationAboutAddingBlackMatter(e.rewardDarkMatter)}),Object(z.a)(function(){return t.meProfileService.updateAuthProfile()}),Object(d.a)(function(e){return t.exceptionService.handleRequestErrorInfo(e,"Something went wrong while you were watching the video. You'll need to watch it again to get dark matter."),c.a})).subscribe(function(){return t.onClose.emit()}):this.onClose.emit())},e.prototype.extractVideoIdFromUrl=function(e){return e.includes("?v=")?e.split("?v=")[1]:e.split("/").slice(-1)[0]},e.prototype.ngOnDestroy=function(){this.player&&this.player.destroy(),this.unloadPlayerApi()},e.\u0275fac=function(t){return new(t||e)(a.Ob(E.a),a.Ob(K.a),a.Ob(a.A),a.Ob(b.a),a.Ob(a.C),a.Ob(m.a),a.Ob(h.a),a.Ob(W.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-youtube-video-player"]],inputs:{videoLink:"videoLink",videoKey:"videoKey",userStatus:"userStatus",autoplay:"autoplay"},outputs:{onClose:"onClose",onVideoTaskSolved:"onVideoTaskSolved"},decls:3,vars:1,consts:[[1,"video-container"],[1,"embed-responsive","embed-responsive-16by9"],[3,"id"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Pb(2,"div",2),a.Tb(),a.Tb()),2&e&&(a.zb(2),a.vc("id",t.elementId))},encapsulation:2,changeDetection:0}),e}();function Y(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-custom-video-player",3),a.ic("onClose",function(){return a.Hc(i),a.mc(2).onCloseCallback()})("onVideoTaskSolved",function(){return a.Hc(i),a.mc(2).onVideoTaskSolvedCallback()}),a.Tb()}if(2&e){var n=a.mc(2);a.uc("videoLink",n.videoLink)("videoKey",n.videoKey)("userStatus",n.userStatus)}}function $(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-youtube-video-player",3),a.ic("onClose",function(){return a.Hc(i),a.mc(2).onCloseCallback()})("onVideoTaskSolved",function(){return a.Hc(i),a.mc(2).onVideoTaskSolvedCallback()}),a.Tb()}if(2&e){var n=a.mc(2);a.uc("videoLink",n.videoLink)("videoKey",n.videoKey)("userStatus",n.userStatus)}}function F(e,t){if(1&e&&(a.Sb(0),a.Sb(1,1),a.Oc(2,Y,1,3,"jr-custom-video-player",2),a.Oc(3,$,1,3,"jr-youtube-video-player",2),a.Rb(),a.Rb()),2&e){var i=a.mc();a.zb(1),a.uc("ngSwitch",i.videoPlayerType),a.zb(1),a.uc("ngSwitchCase",i.VideoPlayerType.CUSTOM),a.zb(1),a.uc("ngSwitchCase",i.VideoPlayerType.YOUTUBE)}}var q=function(){function e(){this.VideoPlayerType=D,this.autoplay=0,this.onClose=new a.n,this.onVideoTaskSolved=new a.n,this.videoPlayerType=null}return e.prototype.ngOnChanges=function(){this.videoPlayerType=this.defineVideoPlayerType(this.videoLink)},e.prototype.onCloseCallback=function(){this.onClose.emit()},e.prototype.onVideoTaskSolvedCallback=function(){this.onVideoTaskSolved.emit()},e.prototype.defineVideoPlayerType=function(e){return U.a.isCodeGym()?e.includes("youtube.com")?D.YOUTUBE:D.CUSTOM:D.YOUTUBE},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-video-player"]],inputs:{videoLink:"videoLink",videoKey:"videoKey",userStatus:"userStatus",autoplay:"autoplay"},outputs:{onClose:"onClose",onVideoTaskSolved:"onVideoTaskSolved"},features:[a.xb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[3,"videoLink","videoKey","userStatus","onClose","onVideoTaskSolved",4,"ngSwitchCase"],[3,"videoLink","videoKey","userStatus","onClose","onVideoTaskSolved"]],template:function(e,t){1&e&&a.Oc(0,F,4,3,"ng-container",0),2&e&&a.uc("ngIf",null!==t.videoPlayerType)},directives:[y.m,y.o,y.p,B,G],encapsulation:2,changeDetection:0}),e}(),X=i("Hunw"),Q=i("mrSG"),J=i("Z4c4"),Z=i("PVGa"),ee=i("Cpur"),te=i("3bIR"),ie=i("dVL3"),ae=i("67Oj"),ne=i("oTrL"),oe=i("ED4h"),se=i("CCXZ"),re=i("TfQF");function ce(e,t){if(1&e&&(a.Ub(0,"div"),a.Pb(1,"jr-icon",32),a.Tb()),2&e){var i=a.mc();a.Eb("task-widget-card__complexity task-widget-card__complexity--",i.TaskComplexity.getCssClass(i.taskInfo.complexity),""),a.zb(1),a.uc("icon",i.TaskComplexity.getIcon(i.taskInfo.complexity))}}function ue(e,t){if(1&e&&(a.Ub(0,"div",33),a.Pb(1,"jr-dark-matter",34),a.Tb()),2&e){var i=a.mc();a.zb(1),a.uc("cost",i.taskInfo.reward)}}function de(e,t){if(1&e){var i=a.Vb();a.Sb(0),a.Ub(1,"jr-button",37),a.ic("onClick",function(){return a.Hc(i),a.mc(3).openTask()}),a.Yb(2,38),a.Tb(),a.Rb()}2&e&&(a.zb(1),a.uc("size","md-wide")("variant","success")("bold",!0))}function le(e,t){1&e&&(a.Sb(0),a.Yb(1,42),a.Rb())}function pe(e,t){1&e&&(a.Sb(0),a.Yb(1,43),a.Rb())}function fe(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"div",41),a.Oc(2,le,2,0,"ng-container",40),a.Oc(3,pe,2,0,"ng-container",40),a.Tb(),a.Rb()),2&e){var i=a.mc(4);a.zb(2),a.uc("ngIf",i.taskInfo.userStatus===i.TaskStatus.PREASSIGNED),a.zb(1),a.uc("ngIf",i.taskInfo.userStatus!==i.TaskStatus.PREASSIGNED)}}function ge(e,t){if(1&e&&(a.Ub(0,"jr-button",39),a.Qc(1,"Open"),a.Tb(),a.Oc(2,fe,4,2,"ng-container",40)),2&e){var i=a.mc(3);a.uc("size","md-wide")("variant","danger")("bold",!0),a.zb(2),a.uc("ngIf",i.isMeAuthenticated)}}function be(e,t){if(1&e&&(a.Sb(0),a.Oc(1,de,3,3,"ng-container",28),a.Oc(2,ge,3,4,"ng-template",null,36,a.Pc),a.Rb()),2&e){var i=a.Ec(3),n=a.mc(2);a.zb(1),a.uc("ngIf",n.isTaskAvailable)("ngIfElse",i)}}function he(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-button",37),a.ic("onClick",function(){return a.Hc(i),a.mc(2).openPremiumRequiredModal()}),a.Yb(1,44),a.Tb(),a.Ub(2,"div",45),a.Yb(3,46),a.Tb()}2&e&&a.uc("size","md-wide")("variant","success")("bold",!0)}function me(e,t){if(1&e&&(a.Sb(0),a.Oc(1,be,4,2,"ng-container",28),a.Oc(2,he,4,3,"ng-template",null,35,a.Pc),a.Rb()),2&e){var i=a.Ec(3),n=a.mc();a.zb(1),a.uc("ngIf",!n.taskInfo.premiumRequired)("ngIfElse",i)}}function ve(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-button",37),a.ic("onClick",function(){return a.Hc(i),a.mc().openAuthModal()}),a.Qc(1," Open "),a.Tb()}2&e&&a.uc("size","md-wide")("variant","success")("bold",!0)}function ke(e,t){1&e&&a.Pb(0,"div",47)}function ye(e,t){1&e&&a.Pb(0,"div",48)}var Te,Se,Oe,_e,Ce,we,Ie,Ee,Pe=function(e){return{"task-widget-card--has-complexity":e}},Ae=function(){function e(e,t,i,o,s,c){this.logger=e,this.meProfileService=t,this.authService=i,this.router=o,this.premiumRequiredModalService=s,this.changeDetector=c,this.TaskStatus=n.a,this.Teacher=J.a,this.TaskComplexity=Z.a,this.onOpen=new a.n,this.isDestroyed$=new r.a,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngOnInit=function(){var e=this;this.meProfileService.isMeAuthenticated$.pipe(Object(u.a)(this.isDestroyed$)).subscribe(function(t){e.isMeAuthenticated=t,e.changeDetector.markForCheck()}),this.isTaskAvailable=Object(g.a)(this.taskInfo.userStatus)},e.prototype.openTask=function(){this.onOpen.emit()},e.prototype.openAuthModal=function(){this.authService.openAuthModal(this.router.url)},e.prototype.openPremiumRequiredModal=function(){this.premiumRequiredModalService.open()},e.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},e.\u0275fac=function(t){return new(t||e)(a.Ob(b.a),a.Ob(h.a),a.Ob(ee.a),a.Ob(C.e),a.Ob(te.a),a.Ob(a.h))},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-task-widget-card"]],inputs:{taskInfo:"taskInfo"},outputs:{onOpen:"onOpen"},decls:38,vars:19,consts:function(){return[[1,"task-widget-card",3,"ngClass"],[1,"task-widget-card__container"],[3,"class",4,"ngIf"],[1,"task-widget-card__teacher"],[1,"task-widget-card__avatar"],["size","lg",3,"src"],["class","task-widget-card__cost",4,"ngIf"],[1,"task-widget-card__main"],[1,"task-widget-card__header"],[1,"task-widget-card__source"],[1,"post-source-meta"],[1,"post-source-meta__main"],[1,"post-source-meta__label"],"\u0417\u0430\u0434\u0430\u0447\u0430",[1,"post-source-meta__icon"],[3,"taskType"],[1,"post-source-meta__extra"],"" + "\ufffd0\ufffd" + " \u0443\u0440\u043E\u0432\u0435\u043D\u044C","" + "\ufffd0\ufffd" + " \u043B\u0435\u043A\u0446\u0438\u044F",[1,"task-widget-card__status"],[3,"status","premiumRequired"],[1,"task-widget-card__stars"],[3,"rating"],[1,"task-widget-card__content"],[1,"task-widget-card__title",3,"innerHTML"],[1,"task-widget-card__desc",3,"innerHTML"],[1,"task-widget-card__footer"],[1,"task-widget-card__open"],[4,"ngIf","ngIfElse"],["notAuthenticated",""],["class","task-widget-card__logo",4,"ngIf"],["class","task-widget-card__logo--disabled",4,"ngIf"],[3,"icon"],[1,"task-widget-card__cost"],[3,"cost"],["premiumRequired",""],["taskUnavailable",""],[3,"size","variant","bold","onClick"]," \u041E\u0442\u043A\u0440\u044B\u0442\u044C ",[3,"size","variant","bold"],[4,"ngIf"],[1,"hint-text","text-danger"]," \u0427\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0437\u0430\u0434\u0430\u0447\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0440\u0435\u0448\u0438\u0442\u044C \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0443\u044E. "," \u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u0440\u0435\u0448\u0430\u0442\u044C \u044D\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443 - \u0443 \u0432\u0430\u0441 \u043D\u0435\u0442 \u043A \u043D\u0435\u0439 \u0434\u043E\u0441\u0442\u0443\u043F\u0430. "," \u041E\u0442\u043A\u0440\u044B\u0442\u044C ",[1,"hint-text","text-corporate"]," \u0427\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0437\u0430\u0434\u0430\u0447\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F Premium \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0430. ",[1,"task-widget-card__logo"],[1,"task-widget-card__logo--disabled"]]},template:function(e,t){if(1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Oc(2,ce,2,4,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Pb(5,"jr-avatar",5),a.Tb(),a.Oc(6,ue,2,1,"div",6),a.Tb(),a.Ub(7,"div",7),a.Ub(8,"div",8),a.Ub(9,"div",9),a.Ub(10,"div",10),a.Ub(11,"div",11),a.Ub(12,"span",12),a.Yb(13,13),a.Tb(),a.Ub(14,"span",14),a.Pb(15,"jr-task-type",15),a.Tb(),a.Ub(16,"span",12),a.Ub(17,"div",16),a.Qc(18),a.Ub(19,"span"),a.Yb(20,17),a.Tb(),a.Qc(21,",\xa0 "),a.Ub(22,"span"),a.Yb(23,18),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(24,"div",19),a.Pb(25,"jr-task-status",20),a.Tb(),a.Ub(26,"div",21),a.Pb(27,"jr-rating-stars",22),a.Tb(),a.Tb(),a.Ub(28,"div",23),a.Pb(29,"div",24),a.Pb(30,"div",25),a.Tb(),a.Ub(31,"div",26),a.Ub(32,"div",27),a.Oc(33,me,4,2,"ng-container",28),a.Oc(34,ve,2,3,"ng-template",null,29,a.Pc),a.Tb(),a.Oc(36,ke,1,0,"div",30),a.Oc(37,ye,1,0,"div",31),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.Ec(35);a.uc("ngClass",a.yc(17,Pe,t.taskInfo.complexity)),a.zb(2),a.uc("ngIf",t.taskInfo.complexity),a.zb(3),a.uc("src",t.Teacher.getAvatarUrl(t.taskInfo.teacher)),a.zb(1),a.uc("ngIf",t.taskInfo.reward),a.zb(9),a.uc("taskType",t.taskInfo.type),a.zb(3),a.Sc(" ",t.taskInfo.quest.title,",\xa0 "),a.zb(2),a.cc(t.taskInfo.quest.level),a.Zb(20),a.zb(3),a.cc(t.taskInfo.quest.lesson),a.Zb(23),a.zb(2),a.uc("status",t.taskInfo.userStatus)("premiumRequired",t.taskInfo.premiumRequired),a.zb(2),a.uc("rating",t.taskInfo.rating),a.zb(2),a.uc("innerHTML",t.taskInfo.title,a.Ic),a.zb(1),a.uc("innerHTML",t.taskInfo.description,a.Ic),a.zb(3),a.uc("ngIf",t.isMeAuthenticated)("ngIfElse",i),a.zb(3),a.uc("ngIf",t.taskInfo.userStatus!==t.TaskStatus.DISABLED),a.zb(1),a.uc("ngIf",t.taskInfo.userStatus===t.TaskStatus.DISABLED)}},directives:[y.k,y.m,ie.a,ae.a,ne.a,oe.a,A.a,se.a,re.a],styles:["[_nghost-%COMP%]{display:block;width:100%}.task-widget-card__status[_ngcontent-%COMP%]{line-height:1;min-width:0}"],changeDetection:0}),e}(),Re=i("oO/G");function Le(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-typing-main",7),a.ic("onClose",function(){return a.Hc(i),a.mc(3).showCoverCard()})("onTaskSolved",function(){return a.Hc(i),a.mc(3).checkForNewAchievements()}),a.Tb()}if(2&e){var n=a.mc(3);a.uc("taskKey",n.taskInfo.key)}}function Me(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-video-player",8),a.ic("onClose",function(){return a.Hc(i),a.mc(3).showCoverCard()})("onVideoTaskSolved",function(){return a.Hc(i),a.mc(3).checkForNewAchievements()}),a.Tb()}if(2&e){var n=a.mc(3);a.uc("videoLink",n.taskInfo.videoLink)("videoKey",n.taskInfo.key)("userStatus",n.taskInfo.userStatus)}}function xe(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-webide-main",9),a.ic("onSuccessValidationModalClose",function(){return a.Hc(i),a.mc(3).checkForNewAchievements()})("onTaskSolved",function(){return a.Hc(i),a.mc(3).onWebideTaskSolved()})("onMaximized",function(e){return a.Hc(i),a.mc(3).isWebideMaximized(e)}),a.Tb()}if(2&e){var n=a.mc(3);a.uc("taskKey",n.taskInfo.key)("webideMode",n.webideMode)}}function Ne(e,t){if(1&e&&(a.Sb(0),a.Sb(1,3),a.Oc(2,Le,1,1,"jr-typing-main",4),a.Oc(3,Me,1,3,"jr-video-player",5),a.Oc(4,xe,1,2,"jr-webide-main",6),a.Rb(),a.Rb()),2&e){var i=a.mc(2);a.zb(1),a.uc("ngSwitch",i.taskInfo.type),a.zb(1),a.uc("ngSwitchCase",i.TaskType.TYPING),a.zb(1),a.uc("ngSwitchCase",i.TaskType.VIDEO)}}function Ue(e,t){if(1&e&&(a.Sb(0),a.Oc(1,Ne,5,3,"ng-container",0),a.Rb()),2&e){var i=a.mc(),n=a.Ec(2);a.zb(1),a.uc("ngIf",i.isTaskAvailable&&!i.showCover)("ngIfElse",n)}}function De(e,t){if(1&e){var i=a.Vb();a.Ub(0,"jr-task-widget-card",10),a.ic("onOpen",function(){return a.Hc(i),a.mc().openTask()}),a.Tb()}if(2&e){var n=a.mc();a.uc("taskInfo",n.taskInfo)}}function je(e,t){1&e&&a.Pb(0,"jr-loader")}var ze=function(){function e(e,t,i,n,s,c){this.logger=e,this.cdRef=t,this.meProfileService=i,this.exceptionService=n,this.notificationsService=s,this.taskLauncherBackendClient=c,this.TaskType=o.a,this.onTaskSolved=new a.n,this.onMaximized=new a.n,this.isDestroyed$=new r.a,this.logger.debug(this.constructor.name+" is created.")}return e.prototype.ngOnInit=function(){var e=this;if(this.taskKey)this.updateTaskInfo().subscribe(function(){return e.cdRef.markForCheck()});else{if(!this.taskInfo)throw new Error("Task key was not provided");this.taskKey=this.taskInfo.key,this.isTaskAvailable=Object(g.a)(this.taskInfo.userStatus)}this.meProfileService.meProfile$.pipe(Object(u.a)(this.isDestroyed$)).subscribe(function(t){e.identifyWebideMode(t?t.level:0,e.taskInfo),e.cdRef.markForCheck()})},e.prototype.openTask=function(){this.showCover=!1},e.prototype.showCoverCard=function(){var e=this;this.updateTaskInfo().subscribe(function(){e.showCover=!0,e.cdRef.markForCheck()})},e.prototype.updateTaskInfo=function(){var e=this;return this.taskLauncherBackendClient.loadTaskInfo(this.taskKey).pipe(Object(d.a)(function(t){return e.exceptionService.handleRequestErrorInfo(t,"Error getting task data"),c.a}),Object(l.a)(function(t){e.logger.info("Loaded taskInfo for task "+e.taskKey,t),t.userStatus!==n.a.SOLVED&&t.userStatus!==n.a.SOLVED_FINAL||e.onWebideTaskSolved(),e.taskInfo=t,e.isTaskAvailable=Object(g.a)(t.userStatus)}),Object(p.a)(function(){}))},e.prototype.identifyWebideMode=function(e,t){this.webideMode=t&&t.quest.key===f.a.QUEST_GAMES?s.a.EXPERT:0===e?s.a.BASIC:1===e?s.a.ADVANCED:s.a.EXPERT},e.prototype.onWebideTaskSolved=function(){this.onTaskSolved.emit()},e.prototype.isWebideMaximized=function(e){this.onMaximized.emit(e)},e.prototype.checkForNewAchievements=function(){this.notificationsService.checkForNewAchievements()},e.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},e.\u0275fac=function(t){return new(t||e)(a.Ob(b.a),a.Ob(a.h),a.Ob(h.a),a.Ob(m.a),a.Ob(v.a),a.Ob(k.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["jr-task-launcher"]],inputs:{taskKey:"taskKey",taskInfo:"taskInfo",showCover:"showCover"},outputs:{onTaskSolved:"onTaskSolved",onMaximized:"onMaximized"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["taskCoverCard",""],["loading",""],[3,"ngSwitch"],[3,"taskKey","onClose","onTaskSolved",4,"ngSwitchCase"],[3,"videoLink","videoKey","userStatus","onClose","onVideoTaskSolved",4,"ngSwitchCase"],[3,"taskKey","webideMode","onSuccessValidationModalClose","onTaskSolved","onMaximized",4,"ngSwitchDefault"],[3,"taskKey","onClose","onTaskSolved"],[3,"videoLink","videoKey","userStatus","onClose","onVideoTaskSolved"],[3,"taskKey","webideMode","onSuccessValidationModalClose","onTaskSolved","onMaximized"],[3,"taskInfo","onOpen"]],template:function(e,t){if(1&e&&(a.Oc(0,Ue,2,2,"ng-container",0),a.Oc(1,De,1,1,"ng-template",null,1,a.Pc),a.Oc(3,je,1,0,"ng-template",null,2,a.Pc)),2&e){var i=a.Ec(4);a.uc("ngIf",t.taskInfo&&t.webideMode)("ngIfElse",i)}},directives:[y.m,y.o,y.p,y.q,N,q,X.a,Ae,Re.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .video-container{width:calc(100% + 10px);margin:0 0 0 -5px}"],changeDetection:0}),e}()},ziUy:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("ofXK"),n=i("HWbA"),o=i("fXoL"),s=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({imports:[[a.c,n.a]]}),e}()}}]);